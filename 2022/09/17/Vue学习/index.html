<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Vue学习"><meta name="keywords" content=""><meta name="author" content="objzan"><meta name="copyright" content="objzan"><title>Vue学习 | objzan博客</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  hexoVersion: '6.3.0'
} </script><meta name="generator" content="Hexo 6.3.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#vue%E5%88%9D%E4%BD%93%E9%AA%8C"><span class="toc-text">vue初体验</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HelloVuejs"><span class="toc-text">HelloVuejs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vue%E5%88%97%E8%A1%A8%E5%B1%95%E7%A4%BA"><span class="toc-text">vue列表展示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vue%E6%A1%88%E4%BE%8B-%E8%AE%A1%E7%AE%97%E5%99%A8"><span class="toc-text">vue案例-计算器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%80%BC%E6%93%8D%E4%BD%9C"><span class="toc-text">插值操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#mustache%E8%AF%AD%E6%B3%95"><span class="toc-text">mustache语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%8C%87%E4%BB%A4%E4%BD%BF%E7%94%A8"><span class="toc-text">其他指令使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#v-once"><span class="toc-text">v-once</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#v-html"><span class="toc-text">v-html</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#v-text"><span class="toc-text">v-text</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#v-pre"><span class="toc-text">v-pre</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#v-cloak"><span class="toc-text">v-cloak</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-bind%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">v-bind的基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#v-bind%E5%8A%A8%E6%80%81%E7%BB%91%E5%AE%9Aclass"><span class="toc-text">v-bind动态绑定class</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%86%99%E6%B3%95"><span class="toc-text">对象写法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E8%AF%AD%E6%B3%95"><span class="toc-text">数组语法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-bind%E7%BB%91%E5%AE%9Astyle"><span class="toc-text">v-bind绑定style</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E8%AF%AD%E6%B3%95"><span class="toc-text">对象语法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E8%AF%AD%E6%B3%95-1"><span class="toc-text">数组语法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text">过滤器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%81%E6%9C%89%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text">私有过滤器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-text">全局过滤器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%A6%E5%90%AC%E5%99%A8"><span class="toc-text">侦听器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BE%A6%E5%90%AC%E5%99%A8"><span class="toc-text">方法侦听器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E4%BE%A6%E5%90%AC%E5%99%A8"><span class="toc-text">对象侦听器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-text">计算属性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">计算属性基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E5%A4%8D%E6%9D%82%E6%93%8D%E4%BD%9C"><span class="toc-text">计算属性复杂操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%9A%84setter%E5%92%8Cgetter"><span class="toc-text">计算属性的setter和getter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7computed%E5%92%8Cmethods%E5%AF%B9%E6%AF%94"><span class="toc-text">计算属性computed和methods对比</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-on"><span class="toc-text">v-on</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E5%92%8C%E8%AF%AD%E6%B3%95%E7%B3%96"><span class="toc-text">基本使用和语法糖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E5%8F%82"><span class="toc-text">传参</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-text">修饰符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-text">条件判断</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#v-if"><span class="toc-text">v-if</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-else-if"><span class="toc-text">v-else-if</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-else"><span class="toc-text">v-else</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#input%E5%A4%8D%E7%94%A8%E9%97%AE%E9%A2%98"><span class="toc-text">input复用问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-show"><span class="toc-text">v-show</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-for%E9%81%8D%E5%8E%86%E6%95%B0%E7%BB%84%E5%92%8C%E5%AF%B9%E8%B1%A1"><span class="toc-text">v-for遍历数组和对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-text">数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1"><span class="toc-text">对象</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E4%B8%AD%E5%93%8D%E5%BA%94%E5%BC%8F%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">数组中响应式的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="toc-text">高阶函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95"><span class="toc-text">数组方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#forEach"><span class="toc-text">forEach</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#some"><span class="toc-text">some</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#every"><span class="toc-text">every</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reduce"><span class="toc-text">reduce</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#v-model"><span class="toc-text">v-model</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-1"><span class="toc-text">基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-text">原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-model%E5%92%8Cradio%E7%BB%93%E5%90%88%E4%BD%BF%E7%94%A8"><span class="toc-text">v-model和radio结合使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-model%E7%BB%93%E5%90%88CheckBox%E4%BD%BF%E7%94%A8"><span class="toc-text">v-model结合CheckBox使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-model%E7%BB%93%E5%90%88select%E4%BD%BF%E7%94%A8"><span class="toc-text">v-model结合select使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-model%E4%BF%AE%E9%A5%B0%E7%AC%A6%E4%BD%BF%E7%94%A8"><span class="toc-text">v-model修饰符使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue%E7%BB%84%E4%BB%B6"><span class="toc-text">vue组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-text">注意</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E5%86%8C%E5%85%A8%E5%B1%80%E7%BB%84%E4%BB%B6"><span class="toc-text">注册全局组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84props"><span class="toc-text">组件的props</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E6%A0%B7%E5%BC%8F%E5%86%B2%E7%AA%81%E9%97%AE%E9%A2%98"><span class="toc-text">组件之间样式冲突问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">生命周期</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB"><span class="toc-text">组件之间数据共享</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ref%E5%BC%95%E7%94%A8"><span class="toc-text">ref引用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#this-nextTick-cb-%E6%96%B9%E6%B3%95"><span class="toc-text">this.$nextTick(cb)方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6"><span class="toc-text">动态组件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#component%E6%A0%87%E7%AD%BE%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-text">component标签基本用法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#keep-alive"><span class="toc-text">keep-alive</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E6%B3%A8%E5%86%8C%E5%90%8D%E7%A7%B0%E5%92%8C%E7%BB%84%E4%BB%B6%E5%A3%B0%E6%98%8Ename%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">组件注册名称和组件声明name的区别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E6%A7%BDslot"><span class="toc-text">插槽slot</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#v-slot%E6%8C%87%E4%BB%A4"><span class="toc-text">v-slot指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#v-slot%E7%AE%80%E5%86%99"><span class="toc-text">v-slot简写#</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD"><span class="toc-text">作用域插槽</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-text">作用域插槽解构赋值</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-text">自定义指令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%81%E6%9C%89%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-text">私有自定义指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4update%E5%87%BD%E6%95%B0"><span class="toc-text">自定义指令update函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-text">全局自定义指令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1"><span class="toc-text">路由</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E8%B7%AF%E7%94%B1%E5%B7%A5%E4%BD%9C%E6%96%B9%E5%BC%8F"><span class="toc-text">前端路由工作方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vue-router%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">vue-router的基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85vue-route%E5%8C%85"><span class="toc-text">安装vue-route包</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%9D%97"><span class="toc-text">创建路由模块</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%BC%E5%85%A5%E5%B9%B6%E6%8C%82%E8%BD%BD%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%9D%97"><span class="toc-text">导入并挂载路由模块</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E8%B7%AF%E7%94%B1%E9%93%BE%E6%8E%A5%E5%92%8C%E5%8D%A0%E4%BD%8D%E7%AC%A6"><span class="toc-text">声明路由链接和占位符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E8%B7%AF%E7%94%B1%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB"><span class="toc-text">声明路由对应关系</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#router-link%E4%BB%A3%E6%9B%BFa%E6%A0%87%E7%AD%BE"><span class="toc-text">router-link代替a标签</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#router-link%E5%85%B6%E4%BB%96%E5%B1%9E%E6%80%A7"><span class="toc-text">router-link其他属性</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#recirect%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-text">recirect重定向</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B0%86%E5%93%88%E5%B8%8C%E6%A8%A1%E5%BC%8F%E6%94%B9%E6%88%90history%E6%A8%A1%E5%BC%8F"><span class="toc-text">将哈希模式改成history模式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1"><span class="toc-text">嵌套路由</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E5%AD%90%E8%B7%AF%E7%94%B1"><span class="toc-text">默认子路由</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E5%8C%B9%E9%85%8D"><span class="toc-text">动态路由匹配</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%BA%E8%B7%AF%E7%94%B1%E8%A7%84%E5%88%99%E5%BC%80%E5%90%AFprops%E4%BC%A0%E5%8F%82"><span class="toc-text">为路由规则开启props传参</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD"><span class="toc-text">路由懒加载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-text">路由传递参数的方式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#params%E7%B1%BB%E5%9E%8B"><span class="toc-text">params类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#query%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-text">query的类型</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#route%E5%92%8C-router%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">$route和$router的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%BC%8F%E5%AF%BC%E8%88%AA"><span class="toc-text">声明式导航</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E7%A8%8B%E5%BC%8F%E5%AF%BC%E8%88%AA"><span class="toc-text">编程式导航</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E5%AE%88%E5%8D%AB"><span class="toc-text">导航守卫</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%89%8D%E7%BD%AE%E5%AE%88%E5%8D%AB"><span class="toc-text">全局前置守卫</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vuex"><span class="toc-text">Vuex</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vuex%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">Vuex基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-text">核心概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#State"><span class="toc-text">State</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#state%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">state基本使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E8%AE%BF%E9%97%AEState%E4%B8%AD%E6%95%B0%E6%8D%AE"><span class="toc-text">组件访问State中数据</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-text">第一种方式</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-text">第二种方式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Motation"><span class="toc-text">Motation</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Motation%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text">Motation基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91mutation%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-text">触发mutation第一种方式</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91mutation%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-text">触发mutation第二种方式</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Mutation%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0"><span class="toc-text">Mutation传递参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86"><span class="toc-text">数据响应式原理</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Action"><span class="toc-text">Action</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%A7%8D%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="toc-text">第一种使用方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%A7%8D%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="toc-text">第二种使用方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91Action%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1%E6%97%B6%E5%80%99%E6%90%BA%E5%B8%A6%E5%8F%82%E6%95%B0"><span class="toc-text">触发Action异步任务时候携带参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%94%E5%9B%9Epromise"><span class="toc-text">返回promise</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Getter"><span class="toc-text">Getter</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8getters%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-text">使用getters第一种方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8getters%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-text">使用getters第二种方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#getters%E6%90%BA%E5%B8%A6%E5%8F%82%E6%95%B0"><span class="toc-text">getters携带参数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#modules"><span class="toc-text">modules</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#plugins"><span class="toc-text">plugins</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#axios"><span class="toc-text">axios</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#axios%E5%A4%9A%E4%B8%AA%E8%AF%B7%E6%B1%82"><span class="toc-text">axios多个请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE"><span class="toc-text">全局配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#axios%E5%AE%9E%E4%BE%8B"><span class="toc-text">axios实例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#axios%E6%8C%82%E5%9C%A8%E5%88%B0vue%E5%8E%9F%E5%9E%8B"><span class="toc-text">axios挂在到vue原型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#axios%E6%8B%A6%E6%88%AA%E5%99%A8"><span class="toc-text">axios拦截器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93"><span class="toc-text">经验总结</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E7%9A%84%E5%9B%BE%E7%89%87%E6%96%87%E4%BB%B6%EF%BC%8C%E8%A6%81%E7%BB%99%E5%88%B0img%E6%A0%87%E7%AD%BE%E4%B8%8A%E5%81%9A%E7%BA%AF%E5%89%8D%E7%AB%AF%E7%9A%84%E9%A2%84%E8%A7%88"><span class="toc-text">选择的图片文件，要给到img标签上做纯前端的预览</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%881"><span class="toc-text">解决方案1:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%882"><span class="toc-text">解决方案2:</span></a></li></ol></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">objzan</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">5</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/objzan/blogImg@main/img/71243716.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">objzan博客</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right"></span></div><div id="post-info"><div id="post-title">Vue学习</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-09-17</time><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">15.7k</span><span class="post-meta__separator">|</span><span>阅读时长: 78 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h3 id="vue初体验"><a href="#vue初体验" class="headerlink" title="vue初体验"></a>vue初体验</h3><h4 id="HelloVuejs"><a href="#HelloVuejs" class="headerlink" title="HelloVuejs"></a>HelloVuejs</h4><span id="more"></span>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &#123;&#123;message&#125;&#125;</span><br><span class="line">  &lt;div&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  // let变量/const常量</span><br><span class="line"> const app= new Vue(&#123;</span><br><span class="line">   el:&#x27;#app&#x27;, //用于挂载要管理的元素</span><br><span class="line">   data:&#123; //定义数据</span><br><span class="line">     message:&#x27;HelloVuejs&#x27;,</span><br><span class="line">     name:&#x27;zhangsan&#x27;</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="vue列表展示"><a href="#vue列表展示" class="headerlink" title="vue列表展示"></a>vue列表展示</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div&gt;&#123;&#123;message&#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;(item,index) in movies&quot; key=&quot;index&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app=new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好呀&#x27;,</span><br><span class="line">      movies:[&#x27;星际穿越&#x27;,&#x27;大话西游&#x27;,&#x27;复仇联盟&#x27;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="vue案例-计算器"><a href="#vue案例-计算器" class="headerlink" title="vue案例-计算器"></a>vue案例-计算器</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2&gt;当前计数：&#123;&#123;counter&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button v-on:click=&quot;add&quot;&gt;+&lt;/button&gt;</span><br><span class="line">  &lt;button v-on:click=&quot;sub&quot;&gt;-&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app=new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      counter:0</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      add:function ()&#123;</span><br><span class="line">        console.log(&#x27;add执行了&#x27;)</span><br><span class="line">        this.counter++</span><br><span class="line">      &#125;,</span><br><span class="line">      sub:function ()&#123;</span><br><span class="line">        console.log(&#x27;sub执行了&#x27;)</span><br><span class="line">        this.counter--</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="插值操作"><a href="#插值操作" class="headerlink" title="插值操作"></a>插值操作</h3><h4 id="mustache语法"><a href="#mustache语法" class="headerlink" title="mustache语法"></a>mustache语法</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &#123;&#123;message&#125;&#125;</span><br><span class="line">  // mustache语法不仅仅可以写变量还可以写简单的表达式</span><br><span class="line">  &lt;h2&gt;&#123;&#123;firstName+lastName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;firstName+&#x27; &#x27;+lastName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;counter*2&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      firstName:&#x27;zhang&#x27;,</span><br><span class="line">      lastName:&#x27;san&#x27;,</span><br><span class="line">      counter:100</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="其他指令使用"><a href="#其他指令使用" class="headerlink" title="其他指令使用"></a>其他指令使用</h4><h5 id="v-once"><a href="#v-once" class="headerlink" title="v-once"></a>v-once</h5><blockquote>
<p>元素和组件只渲染一次，不会随数据的改变而改变</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &#123;&#123;message&#125;&#125;</span><br><span class="line">  &lt;h2 v-once&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="v-html"><a href="#v-html" class="headerlink" title="v-html"></a>v-html</h5><blockquote>
<p>string类型，将html解析出来并渲染</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &#123;&#123;message&#125;&#125;</span><br><span class="line">  &lt;div v-html=&quot;url&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      url:&#x27;&lt;a href=&quot;https://www.baidu.com&quot;&gt;百度&lt;/a&gt;&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="v-text"><a href="#v-text" class="headerlink" title="v-text"></a>v-text</h5><blockquote>
<p>用于数据显示在界面中，string类型，使用该指令会覆盖内容</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;div&gt;张三&#123;&#123;message&#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;div v-text=&quot;name&quot;&gt;，你好&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      name:&#x27;李四&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="v-pre"><a href="#v-pre" class="headerlink" title="v-pre"></a>v-pre</h5><blockquote>
<p>跳过元素和它子元素的编译过程</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2 v-pre&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="v-cloak"><a href="#v-cloak" class="headerlink" title="v-cloak"></a>v-cloak</h5><blockquote>
<p>处理浏览器某些情况下直接显示未编译的mustache标签</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    [v-cloak]&#123;</span><br><span class="line">      display: none;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div id=&quot;app&quot; v-cloak&gt;</span><br><span class="line">  &#123;&#123;message&#125;&#125;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  // 在vue解析前div中有一个属性v-cloak</span><br><span class="line">  // 在vue解析后div中没有一个属性v-cloak</span><br><span class="line">  setTimeout(function ()&#123;</span><br><span class="line">    const app = new Vue(&#123;</span><br><span class="line">      el:&#x27;#app&#x27;,</span><br><span class="line">      data:&#123;</span><br><span class="line">        message:&#x27;你好&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,1000)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="v-bind的基本使用"><a href="#v-bind的基本使用" class="headerlink" title="v-bind的基本使用"></a>v-bind的基本使用</h3><blockquote>
<p>动态绑定属性：如a元素的href属性、img元素src属性。</p>
<p>语法糖 ：</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;img v-bind:src=&quot;imgUrl&quot; alt=&quot;&quot;&gt;</span><br><span class="line">  &lt;a :href=&quot;aHref&quot;&gt;百度一下&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      imgUrl:&#x27;https://cn.vuejs.org/images/logo.svg&#x27;,</span><br><span class="line">      aHref:&#x27;https://www.baidu.com&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-bind动态绑定class"><a href="#v-bind动态绑定class" class="headerlink" title="v-bind动态绑定class"></a>v-bind动态绑定class</h4><h5 id="对象写法"><a href="#对象写法" class="headerlink" title="对象写法"></a>对象写法</h5><ol>
<li>直接通过{}绑定一个类</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;&#x27;active&#x27;: isActive&#125;&quot;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>也可以通过判断，传入多个值</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;&#x27;active&#x27;: isActive, &#x27;line&#x27;: isLine&#125;&quot;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>和普通的类同时存在，并不冲突</li>
</ol>
<blockquote>
<p>注：如果isActive和isLine都为true，那么会有title&#x2F;active&#x2F;line三个类</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;&#x27;active&#x27;: isActive, &#x27;line&#x27;: isLine&#125;&quot;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>如果过于复杂，可以放在一个methods或者computed中</li>
</ol>
<blockquote>
<p>注：classes是一个计算属性</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;classes&quot;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!--  &lt;h2 class=&quot;active&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;--&gt;</span><br><span class="line">&lt;!--  &lt;h2 v-bind:class=&quot;active&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;--&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--  &lt;h2 v-bind:class=&quot;&#123;key1:value1,key2:value2&#125;&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;--&gt;</span><br><span class="line">&lt;!--  &lt;h2 v-bind:class=&quot;&#123;类名1:true,类名2:boolean&#125;&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;--&gt;</span><br><span class="line">  &lt;h2 class=&quot;title&quot; v-bind:class=&quot;&#123;active:isActive,line:isLine&#125;&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2 class=&quot;title&quot; v-bind:class=&quot;getClass()&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button v-on:click=&quot;btnClick&quot;&gt;按钮&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      active:&#x27;active&#x27;,</span><br><span class="line">      isActive:true,</span><br><span class="line">      isLine:true</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      btnClick:function ()&#123;</span><br><span class="line">        this.isActive=!this.isActive</span><br><span class="line">      &#125;,</span><br><span class="line">      getClass:function ()&#123;</span><br><span class="line">       return  &#123;active:this.isActive,line:this.isLine&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="数组语法"><a href="#数组语法" class="headerlink" title="数组语法"></a>数组语法</h5><ol>
<li>直接通过[ ]绑定一个类</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;h2 :class=&quot;[&#x27;active&#x27;]&quot;&gt;Hello World&lt;/h2&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>也可以传入多个值</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;h2 :class=“[‘active’, &#x27;line&#x27;]&quot;&gt;Hello World&lt;/h2&gt;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>和普通的类同时存在，并不冲突注：会有title&#x2F;active&#x2F;line三个类</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;h2 class=&quot;title&quot; :class=“[‘active’, &#x27;line&#x27;]&quot;&gt;Hello World&lt;/h2&gt;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>如果过于复杂，可以放在一个methods或者computed中注：classes是一个计算属性</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;h2 class=&quot;title&quot; :class=&quot;classes&quot;&gt;Hello World&lt;/h2&gt;</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2 class=&quot;title&quot; :class=&quot;[&#x27;active&#x27;,&#x27;line&#x27;]&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2 class=&quot;title&quot; :class=&quot;[active,line]&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2 class=&quot;title&quot; :class=&quot;getClass()&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      active:&#x27;aaaa&#x27;,</span><br><span class="line">      line:&#x27;bbbb&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      getClass:function ()&#123;</span><br><span class="line">        return [this.active,this.line]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-bind绑定style"><a href="#v-bind绑定style" class="headerlink" title="v-bind绑定style"></a>v-bind绑定style</h4><h5 id="对象语法"><a href="#对象语法" class="headerlink" title="对象语法"></a>对象语法</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!--  &lt;h2 v-bind:style=&quot;&#123;key(属性名):value(属性值)&#125;&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;--&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--  50px必须加上单引号，否则当变变量解析--&gt;</span><br><span class="line">&lt;!--  &lt;h2 v-bind:style=&quot;&#123;fontSize:&#x27;50px&#x27;&#125;&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;--&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--  finalSize当变量使用--&gt;</span><br><span class="line">&lt;!--  &lt;h2 v-bind:style=&quot;&#123;fontSize:finalSize&#125;&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;--&gt;</span><br><span class="line">&lt;!--  &lt;h2 v-bind:style=&quot;&#123;fontSize:finalSize+ &#x27;px&#x27;,backgroundColor:finalColor&#125;&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;--&gt;</span><br><span class="line">  &lt;h2 v-bind:style=&quot;getStyle()&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      finalSize:&#x27;100&#x27;,</span><br><span class="line">      finalColor:&#x27;red&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      getStyle()&#123;</span><br><span class="line">        return &#123;fontSize:this.finalSize+ &#x27;px&#x27;,backgroundColor:this.finalColor&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h5 id="数组语法-1"><a href="#数组语法-1" class="headerlink" title="数组语法"></a>数组语法</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2 :style=&quot;[baseStyle,baseStyle1]&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      baseStyle:&#123;backgroundColor:&#x27;red&#x27;&#125;,</span><br><span class="line">      baseStyle1:&#123;fontSize:&#x27;100px&#x27;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h3><h4 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h4><ul>
<li><p>注意点</p>
<ul>
<li><p>要定义到filter节点下，本质是函数</p>
</li>
<li><p>在过滤器函数中一定要有返回值</p>
</li>
<li><p>在过滤器形参中，可以获取到管道符前面待处理的值</p>
</li>
<li><p>全局过滤器和私有过滤器名字一直，就近原则调用</p>
</li>
<li><p>过滤器可以连续调用</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>message 的值是：&#123;&#123; message | capi &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue-2.6.12.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">data</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">message</span>: <span class="string">&#x27;hello vue.js&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 过滤器函数，必须被定义到 filters 节点之下</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 过滤器本质上是函数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">filters</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// 注意：过滤器函数形参中的 val，永远都是“管道符”前面的那个值</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">capi</span>(<span class="params">val</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// 字符串有 charAt 方法，这个方法接收索引值，表示从字符串中把索引对应的字符，获取出来</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// val.charAt(0)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">const</span> first = val.<span class="title function_">charAt</span>(<span class="number">0</span>).<span class="title function_">toUpperCase</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// 字符串的 slice 方法，可以截取字符串，从指定索引往后截取</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">const</span> other = val.<span class="title function_">slice</span>(<span class="number">1</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// 强调：过滤器中，一定要有一个返回值</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">return</span> first + other</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>



<h4 id="私有过滤器"><a href="#私有过滤器" class="headerlink" title="私有过滤器"></a>私有过滤器</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>message 的值是：&#123;&#123; message | capi &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue-2.6.12.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">data</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">message</span>: <span class="string">&#x27;hello vue.js&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 过滤器函数，必须被定义到 filters 节点之下</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 过滤器本质上是函数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">filters</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// 注意：过滤器函数形参中的 val，永远都是“管道符”前面的那个值</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">capi</span>(<span class="params">val</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// 字符串有 charAt 方法，这个方法接收索引值，表示从字符串中把索引对应的字符，获取出来</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// val.charAt(0)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">const</span> first = val.<span class="title function_">charAt</span>(<span class="number">0</span>).<span class="title function_">toUpperCase</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// 字符串的 slice 方法，可以截取字符串，从指定索引往后截取</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">const</span> other = val.<span class="title function_">slice</span>(<span class="number">1</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// 强调：过滤器中，一定要有一个返回值</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">return</span> first + other</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h4 id="全局过滤器"><a href="#全局过滤器" class="headerlink" title="全局过滤器"></a>全局过滤器</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>message 的值是：&#123;&#123; message | capi &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    // hello vue.js</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app2&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>message 的值是：&#123;&#123; message | capi &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    // Heima~~~</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue-2.6.12.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 使用 Vue.filter() 定义全局过滤器</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&#x27;capi&#x27;</span>, <span class="keyword">function</span> (<span class="params">str</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">const</span> first = str.<span class="title function_">charAt</span>(<span class="number">0</span>).<span class="title function_">toUpperCase</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">const</span> other = str.<span class="title function_">slice</span>(<span class="number">1</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> first + other + <span class="string">&#x27;~~~&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">data</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">message</span>: <span class="string">&#x27;hello vue.js&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 过滤器函数，必须被定义到 filters 节点之下</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 过滤器本质上是函数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">filters</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// 注意：过滤器函数形参中的 val，永远都是“管道符”前面的那个值</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">capi</span>(<span class="params">val</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// 字符串有 charAt 方法，这个方法接收索引值，表示从字符串中把索引对应的字符，获取出来</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// val.charAt(0)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">const</span> first = val.<span class="title function_">charAt</span>(<span class="number">0</span>).<span class="title function_">toUpperCase</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// 字符串的 slice 方法，可以截取字符串，从指定索引往后截取</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">const</span> other = val.<span class="title function_">slice</span>(<span class="number">1</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// 强调：过滤器中，一定要有一个返回值</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">return</span> first + other</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// ----------------------------------</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm2 = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">el</span>: <span class="string">&#x27;#app2&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">data</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">message</span>: <span class="string">&#x27;heima&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h3 id="侦听器"><a href="#侦听器" class="headerlink" title="侦听器"></a>侦听器</h3><blockquote>
<p>watch侦听器监听数据变化</p>
</blockquote>
<h4 id="方法侦听器"><a href="#方法侦听器" class="headerlink" title="方法侦听器"></a>方法侦听器</h4><ul>
<li>所有监听器定义在watch节点下</li>
<li>侦听器本质上是一个函数，数据名作为方法名</li>
<li>缺点1：无法刚进入页面自动触发</li>
<li>缺点2：如果侦听是对象，对象属性发生变化不会触发侦听器</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">  &lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm=<span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  <span class="attr">data</span>:&#123;</span><br><span class="line">    <span class="attr">username</span>:<span class="string">&#x27;zhangsan&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">watch</span>:&#123;</span><br><span class="line">    <span class="title function_">username</span>(<span class="params">newVal,oldVal</span>)&#123;<span class="comment">//形参新值在前，旧值在后</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(newVal)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="对象侦听器"><a href="#对象侦听器" class="headerlink" title="对象侦听器"></a>对象侦听器</h4><ul>
<li>可以通过immediate选项，让侦听器自动触发</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue-2.6.12.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">data</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">username</span>: <span class="string">&#x27;admin&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 所有的侦听器，都应该被定义到 watch 节点下</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">watch</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// 定义对象格式的侦听器</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">username</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// 侦听器的处理函数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="title function_">handler</span>(<span class="params">newVal, oldVal</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">console</span>.<span class="title function_">log</span>(newVal, oldVal)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// immediate 选项的默认值是 false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// immediate 的作用是：控制侦听器是否自动触发一次！</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">immediate</span>: <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li>可以用deep选项深度侦听对象的变化</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;info.username&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;info.address.city&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./lib/vue-2.6.12.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">data</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// 用户的信息对象</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">info</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">username</span>: <span class="string">&#x27;admin&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">address</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">city</span>: <span class="string">&#x27;北京&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 所有的侦听器，都应该被定义到 watch 节点下</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">watch</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">/* info: &#123;</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">          handler(newVal) &#123;</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">            console.log(newVal)</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">          &#125;,</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">          // 开启深度监听，只要对象中任何一个属性变化了，都会触发“对象的侦听器”</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">          deep: true</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">        &#125; */</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// 如果要侦听的是对象的子属性的变化，则必须包裹一层单引号</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;info.username&#x27;</span>(newVal) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">console</span>.<span class="title function_">log</span>(newVal)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h3><h4 id="计算属性基本使用"><a href="#计算属性基本使用" class="headerlink" title="计算属性基本使用"></a>计算属性基本使用</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;firstName+&#x27; &#x27;+lastName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">  &lt;h2&gt;&#123;&#123;getFullName()&#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">  &lt;h2&gt;&#123;&#123;fullName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      firstName:&#x27;zhang&#x27;,</span><br><span class="line">      lastName: &#x27;san&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      getFullName()&#123;</span><br><span class="line">        return this.firstName+&#x27; &#x27;+this.lastName</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed:&#123;</span><br><span class="line">      fullName:function ()&#123;</span><br><span class="line">        return this.firstName+&#x27; &#x27;+this.lastName</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="计算属性复杂操作"><a href="#计算属性复杂操作" class="headerlink" title="计算属性复杂操作"></a>计算属性复杂操作</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2&gt;总价格：&#123;&#123;totalPrice&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      books:[</span><br><span class="line">        &#123;id:110,name:&#x27;JavaScript入门&#x27;,price:119&#125;,</span><br><span class="line">        &#123;id:111,name:&#x27;JavaScript入门&#x27;,price:139&#125;,</span><br><span class="line">        &#123;id:112,name:&#x27;JavaScript入门&#x27;,price:19&#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    computed:&#123;</span><br><span class="line">      totalPrice:function ()&#123;</span><br><span class="line">        let result=0</span><br><span class="line">        for (let i=0;i&lt;this.books.length;i++)&#123;</span><br><span class="line">          result+=this.books[i].price</span><br><span class="line">        &#125;</span><br><span class="line">        return result</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="计算属性的setter和getter"><a href="#计算属性的setter和getter" class="headerlink" title="计算属性的setter和getter"></a>计算属性的setter和getter</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;fullName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      firstName:&#x27;zhang&#x27;,</span><br><span class="line">      lastName:&#x27;san&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed:&#123;</span><br><span class="line">      // 计算属性一般没有set方法，只读属性</span><br><span class="line">      fullName:&#123;</span><br><span class="line">        set:function (newValue)&#123;</span><br><span class="line">          console.log(&#x27;-----&#x27;,newValue)</span><br><span class="line">          const names=newValue.split(&#x27; &#x27;)</span><br><span class="line">          this.firstName=names[0]</span><br><span class="line">          this.lastName=names[1]</span><br><span class="line">        &#125;,</span><br><span class="line">        get:function ()&#123;</span><br><span class="line">          return this.firstName+&#x27; &#x27;+this.lastName</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        // 简写</span><br><span class="line">        // fullName:function ()&#123;</span><br><span class="line">        //   return this.firstName+&#x27; &#x27;+this.lastName</span><br><span class="line">        // &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="计算属性computed和methods对比"><a href="#计算属性computed和methods对比" class="headerlink" title="计算属性computed和methods对比"></a>计算属性computed和methods对比</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!--  1.直接拼接，语法繁琐--&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--  2.通过定义methods--&gt;</span><br><span class="line">&lt;!--  &lt;h2&gt;&#123;&#123;getFullName()&#125;&#125;&lt;/h2&gt;--&gt;</span><br><span class="line">&lt;!--  &lt;h2&gt;&#123;&#123;getFullName()&#125;&#125;&lt;/h2&gt;--&gt;</span><br><span class="line">&lt;!--  &lt;h2&gt;&#123;&#123;getFullName()&#125;&#125;&lt;/h2&gt;--&gt;</span><br><span class="line">&lt;!--  &lt;h2&gt;&#123;&#123;getFullName()&#125;&#125;&lt;/h2&gt;--&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--  3.通过computed--&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;fullName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;fullName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;fullName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;fullName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      firstName:&#x27;zhang&#x27;,</span><br><span class="line">      lastName:&#x27;san&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      getFullName() &#123;</span><br><span class="line">        console.log(&#x27;getFullName&#x27;)//打印n次</span><br><span class="line">        return this.firstName+&#x27; &#x27;+this.lastName</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed:&#123;</span><br><span class="line">      fullName:function ()&#123;</span><br><span class="line">        console.log(&#x27;fullName&#x27;) //打印1次</span><br><span class="line">        return this.firstName+&#x27; &#x27;+this.lastName</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="v-on"><a href="#v-on" class="headerlink" title="v-on"></a>v-on</h3><h4 id="基本使用和语法糖"><a href="#基本使用和语法糖" class="headerlink" title="基本使用和语法糖"></a>基本使用和语法糖</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;counter&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;button v-on:click=&quot;increment&quot;&gt;+&lt;/button&gt;</span><br><span class="line">  &lt;button @click=&quot;decrement&quot;&gt;-&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      counter:0</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      increment()&#123;</span><br><span class="line">        this.counter++</span><br><span class="line">      &#125;,</span><br><span class="line">      decrement()&#123;</span><br><span class="line">        this.counter--</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="传参"><a href="#传参" class="headerlink" title="传参"></a>传参</h4><blockquote>
<p> $event是vue提供的特殊变量，表示原生的时间参数对象event，可解决事件参数对象event被覆盖的问题</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!--  事件调用方法没有参数--&gt;</span><br><span class="line">  &lt;button @click=&quot;btn1Click()&quot;&gt;按钮1&lt;/button&gt;</span><br><span class="line">  &lt;button @click=&quot;btn1Click&quot;&gt;按钮1&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--  在事件定义时，写方法省略了小括号，但方法本身是需要一个参数的，</span><br><span class="line">这个时候vue会默认将浏览器event事件对象作为参数传入到方法--&gt;</span><br><span class="line">&lt;!--  &lt;button @click=&quot;btn2Click(123)&quot;&gt;按钮2&lt;/button&gt;--&gt;</span><br><span class="line">  &lt;button @click=&quot;btn2Click(123)&quot;&gt;按钮2&lt;/button&gt;</span><br><span class="line">  &lt;button @click=&quot;btn2Click()&quot;&gt;按钮2&lt;/button&gt;</span><br><span class="line">  &lt;button @click=&quot;btn2Click&quot;&gt;按钮2&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--方法定义时，需要event对象和其他参数 $event--&gt;</span><br><span class="line">  &lt;button @click=&quot;btn3Click(123,$event)&quot;&gt;按钮3&lt;/button&gt;</span><br><span class="line">  &lt;button&gt;按钮4&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      btn1Click()&#123;</span><br><span class="line">        console.log(&#x27;btn1Click&#x27;)</span><br><span class="line">      &#125;,</span><br><span class="line">      btn2Click(event)&#123;</span><br><span class="line">        console.log(&#x27;-------&#x27;,event)</span><br><span class="line">      &#125;,</span><br><span class="line">      btn3Click(abc,event)&#123;</span><br><span class="line">        console.log(&#x27;++++++++&#x27;,abc, event);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!--  1. .stop修饰符的使用--&gt;</span><br><span class="line">  &lt;div @click=&quot;divClick&quot;&gt;</span><br><span class="line">    &lt;button @click.stop=&quot;btnClick&quot;&gt;点击&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--  2 .prevent修饰符的使用--&gt;</span><br><span class="line">  &lt;form action=&quot;https://www.baidu.com&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;submit&quot; value=&quot;提交&quot; @click.prevent=&quot;submitClick&quot;&gt;</span><br><span class="line">  &lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--  3监听某个键盘的键帽--&gt;</span><br><span class="line">  &lt;input type=&quot;text&quot; @keyup.enter=&quot;keyUp&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--  4. .once修饰符的使用--&gt;</span><br><span class="line">  &lt;button @click.once=&quot;btn2Click&quot;&gt;按钮2&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      btnClick()&#123;</span><br><span class="line">        console.log(&quot;btnClick&quot;);</span><br><span class="line">      &#125;,</span><br><span class="line">      divClick()&#123;</span><br><span class="line">        console.log(&quot;divClick&quot;);</span><br><span class="line">      &#125;,</span><br><span class="line">      submitClick()&#123;</span><br><span class="line">        console.log(&quot;submitClick&quot;);</span><br><span class="line">      &#125;,</span><br><span class="line">      keyUp()&#123;</span><br><span class="line">        console.log(&#x27;keyup&#x27;);</span><br><span class="line">      &#125;,</span><br><span class="line">      btn2Click()&#123;</span><br><span class="line">        console.log(&quot;btn2Click&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h3><h4 id="v-if"><a href="#v-if" class="headerlink" title="v-if"></a>v-if</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2 v-if=&quot;isShow&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      isShow:true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-else-if"><a href="#v-else-if" class="headerlink" title="v-else-if"></a>v-else-if</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2 v-if=&quot;isShow&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;h1 v-else&gt;isShow为true时显示我&lt;/h1&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      isShow:false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-else"><a href="#v-else" class="headerlink" title="v-else"></a>v-else</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;h2 v-if=&quot;score&gt;=90&quot;&gt;优秀&lt;/h2&gt;</span><br><span class="line">  &lt;h2 v-else-if=&quot;score&gt;=80&quot;&gt;良好&lt;/h2&gt;</span><br><span class="line">  &lt;h2 v-else-if=&quot;score&gt;=60&quot;&gt;及格&lt;/h2&gt;</span><br><span class="line">  &lt;h2 v-else&gt;不及格&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">  &lt;h1&gt;&#123;&#123;result&#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      score:80</span><br><span class="line">    &#125;,</span><br><span class="line">    computed:&#123;</span><br><span class="line">      result()&#123;</span><br><span class="line">        let showMessage=&#x27;&#x27;;</span><br><span class="line">        if(this.score&gt;=90)&#123;</span><br><span class="line">          showMessage=&#x27;优秀&#x27;</span><br><span class="line">        &#125;else if(this.score&gt;=80)&#123;</span><br><span class="line">          showMessage=&#x27;良好&#x27;</span><br><span class="line">        &#125;else if (this.score&gt;=60)&#123;</span><br><span class="line">          showMessage=&#x27;及格&#x27;</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">          showMessage=&#x27;不及格&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        return showMessage</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="input复用问题"><a href="#input复用问题" class="headerlink" title="input复用问题"></a>input复用问题</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;span v-if=&quot;isUser&quot;&gt;</span><br><span class="line">    &lt;label for=&quot;username&quot;&gt;用户账号&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;&quot; id=&quot;username&quot; placeholder=&quot;用户账号&quot; key=&quot;username&quot;&gt;</span><br><span class="line">  &lt;/span&gt;</span><br><span class="line">  &lt;span v-else&gt;</span><br><span class="line">    &lt;label for=&quot;username&quot;&gt;用户邮箱&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; name=&quot;&quot; id=&quot;email&quot; placeholder=&quot;用户邮箱&quot; key=&quot;email&quot;&gt;</span><br><span class="line">  &lt;/span&gt;</span><br><span class="line">  &lt;button @click=&quot;isUser=!isUser&quot;&gt;切换&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">     isUser:true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-show"><a href="#v-show" class="headerlink" title="v-show"></a>v-show</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!--  条件false时，包含v-if指令的元素，不存在dom--&gt;</span><br><span class="line">  &lt;h2 v-if=&quot;isShow&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--  v-show 条件为false时，v-show给元素添加一个行内样式display：none--&gt;</span><br><span class="line">  &lt;h2 v-show=&quot;isShow&quot;&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;helloVuejs&#x27;,</span><br><span class="line">      isShow:true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="v-for遍历数组和对象"><a href="#v-for遍历数组和对象" class="headerlink" title="v-for遍历数组和对象"></a>v-for遍历数组和对象</h3><h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!--  遍历过程中没有使用索引值（下标值）--&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;item in name&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--  遍历过程中，获取索引值--&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;(item,index) in name&quot;&gt;&#123;&#123;index+1&#125;&#125; &#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      name:[&#x27;kebe&#x27;,&#x27;james&#x27;,&#x27;curry&#x27;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!--  遍历对象的过程中，如果只获取一个值获取到的是value--&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;item in info&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--  获取key和value 格式：(value,key)--&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;(value,key) in info&quot;&gt;&#123;&#123;value&#125;&#125;-&#123;&#123;key&#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!--  获取key和value和index 格式：(value,key,index)--&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;(value,key,index) in info&quot;&gt;&#123;&#123;value&#125;&#125;-&#123;&#123;key&#125;&#125;-&#123;&#123;index&#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      info:&#123;</span><br><span class="line">        name:&#x27;zhangsan&#x27;,</span><br><span class="line">        age:18,</span><br><span class="line">        sex:&#x27;男&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="数组中响应式的方法"><a href="#数组中响应式的方法" class="headerlink" title="数组中响应式的方法"></a>数组中响应式的方法</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      letters:[&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;]</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      btnClick()&#123;</span><br><span class="line">        // 1.push方法 数组后面添加元素</span><br><span class="line">        // this.letters.push(&#x27;e&#x27;)</span><br><span class="line">        // this.letters.push(&#x27;aaa&#x27;,&#x27;bbb&#x27;,&#x27;ccc&#x27;)</span><br><span class="line"></span><br><span class="line">        // unshift() 数组最前面添加元素</span><br><span class="line">        // this.letters.unshift(&#x27;aaaa&#x27;)</span><br><span class="line">        // this.letters.unshift(&#x27;aaa&#x27;,&#x27;bbb&#x27;,&#x27;ccc&#x27;)</span><br><span class="line"></span><br><span class="line">        // 2.pop() 删除最后元素</span><br><span class="line">        // this.letters.pop()</span><br><span class="line"></span><br><span class="line">        // 3. shift() 删除数组中第一个元素</span><br><span class="line">        // this.letters.shift()</span><br><span class="line"></span><br><span class="line">        // splice()作用：删除元素、插入元素、替换元素</span><br><span class="line">        // 删除元素：第二个参数传入需要删除几个元素(如果没传删除后面所有元素)</span><br><span class="line">        // this.letters.splice(1,2)</span><br><span class="line">        // 替换元素：第二个参数表示需要替换几个元素，后面是用于替换前面的参数</span><br><span class="line">        // this.letters.splice(1,3,&#x27;m&#x27;,&#x27;n&#x27;,&#x27;l&#x27;)</span><br><span class="line">        // 插入元素：第二个参数为0，后面跟上要插入的元素</span><br><span class="line">        // this.letters.splice(1,0,&#x27;r&#x27;,&#x27;s&#x27;,&#x27;t&#x27;)</span><br><span class="line"></span><br><span class="line">        // sort()</span><br><span class="line">        // this.letters.sort()</span><br><span class="line"></span><br><span class="line">        // reverse()</span><br><span class="line">        // this.letters.reverse()</span><br><span class="line"></span><br><span class="line">        // 注意：通过索引值修改数组中的元素</span><br><span class="line">        // this.letters[0]=&#x27;aaaaaa&#x27;</span><br><span class="line">        // this.letters.splice(0,1,&#x27;bbb&#x27;)</span><br><span class="line">        // set(要修改的对象，索引值，修改后的值)</span><br><span class="line">        // Vue.set(this.letters,0,&#x27;bbb&#x27;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h3><h3 id="数组方法"><a href="#数组方法" class="headerlink" title="数组方法"></a>数组方法</h3><h4 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h4><p>forEach循环一旦开始，无法在中间停止</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr=[<span class="string">&#x27;小红&#x27;</span>,<span class="string">&#x27;小蓝&#x27;</span>,<span class="string">&#x27;小黄&#x27;</span>,<span class="string">&#x27;小黑&#x27;</span>]</span><br><span class="line">arr.<span class="title function_">foEach</span>(<span class="function">(<span class="params">item,index</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(item===<span class="string">&#x27;小黄&#x27;</span>)「</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(index)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="some"><a href="#some" class="headerlink" title="some"></a>some</h4><p>找到对应的项后通过return true固定语法终止some循环</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">arr.<span class="title function_">some</span>(<span class="function">(<span class="params">item,index</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(item===<span class="string">&#x27;小黄&#x27;</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(index)</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="every"><a href="#every" class="headerlink" title="every"></a>every</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr=[</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="number">1</span>,<span class="attr">name</span>:<span class="string">&#x27;西瓜&#x27;</span>，<span class="attr">state</span>:<span class="literal">true</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="number">2</span>,<span class="attr">name</span>:<span class="string">&#x27;西瓜&#x27;</span>，<span class="attr">state</span>:<span class="literal">true</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="number">3</span>,<span class="attr">name</span>:<span class="string">&#x27;西瓜&#x27;</span>，<span class="attr">state</span>:<span class="literal">true</span>&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result=arr.<span class="title function_">every</span>(<span class="function"><span class="params">item</span>=&gt;</span>item.<span class="property">status</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result)<span class="comment">//true 返回布尔值</span></span><br></pre></td></tr></table></figure>

<h4 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h4><blockquote>
<p>arr.filter(item&#x3D;&gt;item.state).reduce((累加的结果，当前循环项)&#x3D;&gt;{},初始值)</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr=[</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="number">1</span>,<span class="attr">name</span>:<span class="string">&#x27;西瓜&#x27;</span>，<span class="attr">state</span>:<span class="literal">true</span>,<span class="attr">price</span>:<span class="number">10</span>,<span class="attr">count</span>:<span class="number">1</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="number">2</span>,<span class="attr">name</span>:<span class="string">&#x27;西瓜&#x27;</span>，<span class="attr">state</span>:<span class="literal">false</span>,<span class="attr">price</span>:<span class="number">20</span>,<span class="attr">count</span>:<span class="number">2</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">id</span>:<span class="number">3</span>,<span class="attr">name</span>:<span class="string">&#x27;西瓜&#x27;</span>，<span class="attr">state</span>:<span class="literal">true</span>,<span class="attr">price</span>:<span class="number">30</span>,<span class="attr">count</span>:<span class="number">5</span>&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> amt=<span class="number">0</span></span><br><span class="line">arr.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span>=&gt;</span>item.<span class="property">state</span>).<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">  amt+=item.<span class="property">price</span>*item.<span class="property">count</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span>=&gt;</span>item.<span class="property">state</span>).<span class="title function_">reduce</span>(<span class="function">(<span class="params">累加的结果，当前循环项</span>)=&gt;</span>&#123;&#125;,初始值)</span><br><span class="line"><span class="keyword">const</span> result=arr.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span>=&gt;</span>item.<span class="property">state</span>).<span class="title function_">reduce</span>(<span class="function">(<span class="params">amt,item</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> amt+=item.<span class="property">price</span>*item*count</span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result=arr.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span>=&gt;</span>item.<span class="property">state</span>).<span class="title function_">reduce</span>(<span class="function">(<span class="params">amt,item</span>)=&gt;</span>amt+=item.<span class="property">state</span>*item.<span class="property">count</span>,<span class="number">0</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">  <span class="comment">// filter/map/reduce</span></span><br><span class="line">  <span class="comment">// filter中的回调函数必须返回一个boolean值</span></span><br><span class="line">  <span class="comment">// true：返回true时，函数内部自动将这次回调的n加入到新的数组中</span></span><br><span class="line">  <span class="comment">// false：返回false时，函数内部过滤掉这次的n</span></span><br><span class="line">  <span class="keyword">const</span> nums =[<span class="number">10</span>,<span class="number">20</span>,<span class="number">111</span>,<span class="number">222</span>,<span class="number">444</span>,<span class="number">40</span>,<span class="number">50</span>]</span><br><span class="line"><span class="comment">//   let newNums=nums.filter(function (n)&#123;</span></span><br><span class="line"><span class="comment">//     return n&gt;=100</span></span><br><span class="line"><span class="comment">//   &#125;)</span></span><br><span class="line"><span class="comment">// console.log(newNums)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//   let new2Nums=newNums.map(function (n)&#123;</span></span><br><span class="line"><span class="comment">//     return n*2</span></span><br><span class="line"><span class="comment">//   &#125;)</span></span><br><span class="line"><span class="comment">// console.log(new2Nums);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//   let new3Nums=new2Nums.reduce(function (preValue,n)&#123;</span></span><br><span class="line"><span class="comment">//     return preValue+n</span></span><br><span class="line"><span class="comment">//   &#125;,0)</span></span><br><span class="line"><span class="comment">// console.log(new3Nums);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// let total=nums.filter(function (n)&#123;</span></span><br><span class="line"><span class="comment">//   return n&gt;=100</span></span><br><span class="line"><span class="comment">// &#125;).map(function (n)&#123;</span></span><br><span class="line"><span class="comment">//   return n*2</span></span><br><span class="line"><span class="comment">// &#125;).reduce(function (preValue,n)&#123;</span></span><br><span class="line"><span class="comment">//   return preValue+n</span></span><br><span class="line"><span class="comment">// &#125;,0)</span></span><br><span class="line"><span class="comment">// console.log(total)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> total=nums.<span class="title function_">filter</span>(<span class="function"><span class="params">n</span>=&gt;</span>n&gt;=<span class="number">100</span>).<span class="title function_">map</span>(<span class="function"><span class="params">n</span>=&gt;</span>n*<span class="number">2</span>).<span class="title function_">reduce</span>(<span class="function">(<span class="params">preValue,n</span>)=&gt;</span>preValue+n)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(total)</span><br></pre></td></tr></table></figure>

<h3 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h3><h4 id="基本使用-1"><a href="#基本使用-1" class="headerlink" title="基本使用"></a>基本使用</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;input type=&quot;text&quot; v-model=&quot;message&quot;&gt;</span><br><span class="line">  &#123;&#123;message&#125;&#125;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!--  &lt;input type=&quot;text&quot; v-model=&quot;message&quot;&gt;--&gt;</span><br><span class="line">&lt;!--  &lt;input type=&quot;text&quot; :value=&quot;message&quot; @input=&quot;valueChange&quot;&gt;--&gt;</span><br><span class="line">  &lt;input type=&quot;text&quot; :value=&quot;message&quot; @input=&quot;message=$event.target.value&quot;&gt;</span><br><span class="line">  &#123;&#123;message&#125;&#125;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      valueChange(event)&#123;</span><br><span class="line">        this.message=event.target.value</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-model和radio结合使用"><a href="#v-model和radio结合使用" class="headerlink" title="v-model和radio结合使用"></a>v-model和radio结合使用</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">  &lt;label for=&quot;male&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;radio&quot; id=&quot;male&quot;  value=&quot;男&quot; v-model=&quot;sex&quot;&gt;男</span><br><span class="line">  &lt;/label&gt;</span><br><span class="line">  &lt;label for=&quot;female&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;radio&quot; id=&quot;female&quot;  value=&quot;女&quot; v-model=&quot;sex&quot;&gt;女</span><br><span class="line">  &lt;/label&gt;</span><br><span class="line">  &lt;h2&gt;你选择的性别是：&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      sex:&#x27;男&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-model结合CheckBox使用"><a href="#v-model结合CheckBox使用" class="headerlink" title="v-model结合CheckBox使用"></a>v-model结合CheckBox使用</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!--  1.checkbox单选框--&gt;</span><br><span class="line">&lt;!--  &lt;label for=&quot;agree&quot;&gt;--&gt;</span><br><span class="line">&lt;!--    &lt;input type=&quot;checkbox&quot; name=&quot;&quot; id=&quot;agree&quot; v-model=&quot;isAgree&quot;&gt;同意协议--&gt;</span><br><span class="line">&lt;!--  &lt;/label&gt;--&gt;</span><br><span class="line">&lt;!--  &lt;h2&gt;你选择的是：&#123;&#123;isAgree&#125;&#125;&lt;/h2&gt;--&gt;</span><br><span class="line">&lt;!--  &lt;button :disabled=&quot;!isAgree&quot;&gt;下一步&lt;/button&gt;--&gt;</span><br><span class="line"></span><br><span class="line">    &lt;input type=&quot;checkbox&quot; value=&quot;篮球&quot; v-model=&quot;hobbies&quot;&gt;篮球</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; value=&quot;足球&quot; v-model=&quot;hobbies&quot;&gt;足球</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; value=&quot;排球&quot; v-model=&quot;hobbies&quot;&gt;排球</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; value=&quot;羽毛球&quot; v-model=&quot;hobbies&quot;&gt;羽毛球</span><br><span class="line">  &lt;h2&gt;选择的是：&#123;&#123;hobbies&#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">  &lt;label :for=&quot;item&quot; v-for=&quot;item in originHobbies&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;checkbox&quot; :id=&quot;item&quot; :value=&quot;item&quot; v-model=&quot;hobbies&quot;&gt;&#123;&#123;item&#125;&#125;</span><br><span class="line">  &lt;/label&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      isAgree:false,</span><br><span class="line">      hobbies:[],</span><br><span class="line">      originHobbies:[&#x27;篮球&#x27;,&#x27;足球&#x27;,&#x27;羽毛球&#x27;,&#x27;兵乓球&#x27;,&#x27;排球&#x27;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-model结合select使用"><a href="#v-model结合select使用" class="headerlink" title="v-model结合select使用"></a>v-model结合select使用</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!--  选择单个--&gt;</span><br><span class="line">  &lt;select name=&quot;abc&quot; v-model=&quot;fruit&quot;&gt;</span><br><span class="line">    &lt;option value=&quot;苹果&quot;&gt;苹果&lt;/option&gt;</span><br><span class="line">    &lt;option value=&quot;雪梨&quot;&gt;雪梨&lt;/option&gt;</span><br><span class="line">    &lt;option value=&quot;香蕉&quot;&gt;香蕉&lt;/option&gt;</span><br><span class="line">    &lt;option value=&quot;火龙果&quot;&gt;火龙果&lt;/option&gt;</span><br><span class="line">  &lt;/select&gt;</span><br><span class="line">  &lt;h2&gt;你选择的水果是：&#123;&#123;fruit&#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--选择多个--&gt;</span><br><span class="line">  &lt;select name=&quot;abc&quot; v-model=&quot;fruits&quot; multiple&gt;</span><br><span class="line">    &lt;option value=&quot;苹果&quot;&gt;苹果&lt;/option&gt;</span><br><span class="line">    &lt;option value=&quot;雪梨&quot;&gt;雪梨&lt;/option&gt;</span><br><span class="line">    &lt;option value=&quot;香蕉&quot;&gt;香蕉&lt;/option&gt;</span><br><span class="line">    &lt;option value=&quot;火龙果&quot;&gt;火龙果&lt;/option&gt;</span><br><span class="line">  &lt;/select&gt;</span><br><span class="line">  &lt;h2&gt;你选择的水果是：&#123;&#123;fruits&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      fruit:&#x27;香蕉&#x27;,</span><br><span class="line">      fruits:[]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-model修饰符使用"><a href="#v-model修饰符使用" class="headerlink" title="v-model修饰符使用"></a>v-model修饰符使用</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">&lt;!--  1.修饰符 lazy--&gt;</span><br><span class="line">  &lt;input type=&quot;text&quot; v-model.lazy=&quot;message&quot;&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--  2.修饰符number--&gt;</span><br><span class="line">  &lt;input type=&quot;number&quot; v-model.number=&quot;age&quot;&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;typeof age&#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--  3.修饰符trim--&gt;</span><br><span class="line">  &lt;input type=&quot;text&quot; v-model.trim=&quot;name&quot;&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  const app = new Vue(&#123;</span><br><span class="line">    el:&#x27;#app&#x27;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      message:&#x27;你好&#x27;,</span><br><span class="line">      age: 0,</span><br><span class="line">      name:&#x27;&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="vue组件"><a href="#vue组件" class="headerlink" title="vue组件"></a>vue组件</h3><ul>
<li>三个组成部分<ul>
<li>template 组件的模板结构</li>
<li>script 组件的JavaScript行为</li>
<li>style 组件的样式</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;div&quot;&gt;</span><br><span class="line">    &lt;h3&gt;hello vue &#123;&#123; username &#125;&#125;&lt;/h3&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//默认导出 固定写法</span><br><span class="line">export default &#123;</span><br><span class="line">  //data数据源</span><br><span class="line">  //vue组件data不能指向对象</span><br><span class="line">  //data必须是一个函数</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      username: &quot;zs&quot;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.div &#123;</span><br><span class="line">  color: red;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><ul>
<li>模板根元素只能有一个，如果有多个嵌套多一个div</li>
<li>样式使用less在样式style里加lang&#x3D;“less”</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;style lang=&quot;less&quot;&gt;</span><br><span class="line">.div &#123;</span><br><span class="line">  color: red;</span><br><span class="line">  h3 &#123;</span><br><span class="line">    background-color: pink;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>使用vue组件三个步骤</p>
<ul>
<li>使用import导入需要的组件</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import Left from &#x27;@/components/Left.vue&#x27;</span><br><span class="line">import Right from &#x27;@/components/Right.vue&#x27;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<ul>
<li>使用components节点注册组件</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="title class_">Left</span>,</span><br><span class="line">    <span class="title class_">Right</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<ul>
<li>以标签形式使用注册的组件</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      &lt;!-- 渲染 Left 组件和 Right 组件 --&gt;</span><br><span class="line">      &lt;Left&gt;&lt;/Left&gt;</span><br><span class="line">      &lt;Right&gt;&lt;/Right&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>


</li>
<li><p>通过components注册的是私有子组件</p>
</li>
</ul>
<h4 id="注册全局组件"><a href="#注册全局组件" class="headerlink" title="注册全局组件"></a>注册全局组件</h4><p>在main.js入口文件中，通过Vue.component()注册</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Count</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/Count.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;MyCount&#x27;</span>, <span class="title class_">Count</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="组件的props"><a href="#组件的props" class="headerlink" title="组件的props"></a>组件的props</h4><blockquote>
<p>组件的自定义属性，有效提高组件的复用性</p>
</blockquote>
<ul>
<li>props中的数据可在模板结构中使用</li>
<li>props只读不能直接修改</li>
<li>修改props值需要把值传到data</li>
<li>default设置默认值</li>
<li>type设置类型</li>
<li>required 必填校验</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h5&gt;Count 组件&lt;/h5&gt;</span><br><span class="line">    &lt;p&gt;count 的值是：&#123;&#123; count &#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;button @click=&quot;count += 1&quot;&gt;+1&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">    &lt;button @click=&quot;show&quot;&gt;打印 this&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  // props 是&quot;自定义属性&quot;，允许使用者通过自定义属性，为当前组件指定初始值</span><br><span class="line">  // 自定义属性的名字，是封装者自定义的（只要名称合法即可）</span><br><span class="line">  // props 中的数据，可以直接在模板结构中被使用</span><br><span class="line">  // 注意：props 是只读的，不要直接修改 props 的值，否则终端会报错！</span><br><span class="line">  // props: [&#x27;init&#x27;],</span><br><span class="line">  props: &#123;</span><br><span class="line">    // 自定义属性A : &#123; /* 配置选项 */ &#125;,</span><br><span class="line">    // 自定义属性B : &#123; /* 配置选项 */ &#125;,</span><br><span class="line">    // 自定义属性C : &#123; /* 配置选项 */ &#125;,</span><br><span class="line">    init: &#123;</span><br><span class="line">      // 如果外界使用 Count 组件的时候，没有传递 init 属性，则默认值生效</span><br><span class="line">      default: 0,</span><br><span class="line">      // init 的值类型必须是 Number 数字</span><br><span class="line">      type: Number,</span><br><span class="line">      // 必填项校验</span><br><span class="line">      required: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      // 把 props 中的 init 值，转存到 count 上</span><br><span class="line">      count: this.init</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    show() &#123;</span><br><span class="line">      console.log(this)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;less&quot;&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<h4 id="组件之间样式冲突问题"><a href="#组件之间样式冲突问题" class="headerlink" title="组件之间样式冲突问题"></a>组件之间样式冲突问题</h4><blockquote>
<p>.vue组件样式全局生效造成多个组件之间样式冲突问题</p>
</blockquote>
<ul>
<li><p>根本原因</p>
<ul>
<li>基于唯一index.html页面</li>
<li>每个组件样式都会影响index.html中的dom元素</li>
</ul>
</li>
<li><p>scoped</p>
<ul>
<li>原理是加自定义属性</li>
</ul>
</li>
<li><p>&#x2F;deep&#x2F;样式穿透</p>
<ul>
<li>使用第三方组件库修改默认样式需求用&#x2F;deep&#x2F;</li>
</ul>
</li>
</ul>
<h4 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h4><ul>
<li>beforeCreate 组件的props、data、methods不可用</li>
<li>create生命周期函数经常调用methods方法ajax请求服务器数据，并把请求的数据转存到data中供template模板渲染使用，此时&#x3D;&#x3D; 模板结构尚未生成无法操作dom &#x3D;&#x3D;</li>
<li>mounted 在此阶段最早操作dom</li>
</ul>
<h4 id="组件之间数据共享"><a href="#组件之间数据共享" class="headerlink" title="组件之间数据共享"></a>组件之间数据共享</h4><ul>
<li><p>父组件向子组件共享数据使用自定义属性</p>
<ul>
<li>父组件</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;son :msg=<span class="string">&#x27;message&#x27;</span> :user=<span class="string">&quot;info&quot;</span>&gt;&lt;/son&gt;</span><br><span class="line"></span><br><span class="line"><span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span>&#123;</span><br><span class="line">    <span class="attr">message</span>:<span class="string">&#x27;zs&#x27;</span>,</span><br><span class="line">    <span class="attr">info</span>:&#123;<span class="attr">name</span>:<span class="string">&#x27;zs&#x27;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Left</span> <span class="attr">:msg</span>=<span class="string">&quot;message&quot;</span> <span class="attr">:user</span>=<span class="string">&quot;userInfo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Left</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Left</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/Left.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">userInfo</span>: &#123; </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">message</span>: <span class="string">&#x27;我是App组件&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">name</span>: <span class="string">&#x27;zhangsan&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">age</span>: <span class="number">18</span>, </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">address</span>: <span class="string">&#x27;gd&#x27;</span> </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">Left</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>子组件</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Left 子组件<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>msg的值是&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>user的值&#123;&#123; user.name &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>: [<span class="string">&#x27;msg&#x27;</span>, <span class="string">&#x27;user&#x27;</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>子组件向父组件共享数据使用自定义事件</p>
<ul>
<li>子组件</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Right 组件---&#123;&#123; count &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span>+1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">count</span>: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">add</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">count</span> += <span class="number">1</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;numchange&#x27;</span>, <span class="variable language_">this</span>.<span class="property">count</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li>父组件</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>App 根组件&#123;&#123; countFromSon &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Right</span> @<span class="attr">numchange</span>=<span class="string">&quot;getNewNum&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Right</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Right</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/Right.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">countFromSon</span>: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">getNewNum</span>(<span class="params">val</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">countFromSon</span> = val</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">Right</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>兄弟组件共享数据使用eventBus</p>
<ul>
<li>创建eventBus.js模块，向外共享Vue实例对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vue</span>()</span><br></pre></td></tr></table></figure>

<ul>
<li>导入eventBus.js</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> bus <span class="keyword">from</span> <span class="string">&#x27;./eventBus.js&#x27;</span></span><br></pre></td></tr></table></figure>



<ul>
<li>发送方调用bus.$emit(‘事件名称’，要发送的数据)</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Left 组件<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;send&quot;</span>&gt;</span>发送<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> bus <span class="keyword">from</span> <span class="string">&#x27;./eventBus&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">str</span>: <span class="string">&#x27;lalalala&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">send</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      bus.$emit(<span class="string">&#x27;share&#x27;</span>, <span class="variable language_">this</span>.<span class="property">str</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ul>
<li>接收方调用bus.$on(‘事件名称’，事件处理函数)</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>Right 组件<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; msgFromLeft &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> bus <span class="keyword">from</span> <span class="string">&#x27;./eventBus.js&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">msgFromLeft</span>: <span class="string">&#x27;&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    bus.$on(<span class="string">&#x27;share&#x27;</span>, <span class="function">(<span class="params">val</span>) =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">msgFromLeft</span> = val</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="ref引用"><a href="#ref引用" class="headerlink" title="ref引用"></a>ref引用</h4><blockquote>
<p>不依赖jQuery获取元素或组件引用，每个vue组件实例都包含一个$refs对象，默认指向空对象</p>
</blockquote>
<ul>
<li>引用Dom</li>
<li>注意<ul>
<li>如果ref名字一样后面会把前面覆盖</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h1 refs=<span class="string">&quot;myh1&quot;</span>&gt;ref引用&lt;/h1&gt;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">myh1</span>.<span class="property">style</span>.<span class="property">color</span>=<span class="string">&#x27;red&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>引用页面上的组件实例</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;<span class="title class_">Left</span> refs=<span class="string">&quot;comleft&quot;</span>&gt;&lt;/<span class="title class_">Left</span>&gt;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">comleft</span>.<span class="property">count</span>=<span class="number">0</span></span><br></pre></td></tr></table></figure>

<h5 id="this-nextTick-cb-方法"><a href="#this-nextTick-cb-方法" class="headerlink" title="this.$nextTick(cb)方法"></a>this.$nextTick(cb)方法</h5><blockquote>
<p>推迟到下一个dom更新周期后执行，通俗理解等组件的dom更新完成后再执行cb回调函数</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">this</span>.$nextTick(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">iptRef</span>.<span class="title function_">focus</span>()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="动态组件"><a href="#动态组件" class="headerlink" title="动态组件"></a>动态组件</h4><blockquote>
<p>动态切换组件显示和隐藏</p>
</blockquote>
<h5 id="component标签基本用法"><a href="#component标签基本用法" class="headerlink" title="component标签基本用法"></a>component标签基本用法</h5><ul>
<li>component标签是vue内置的组件占位符</li>
<li>is属性的值表示要渲染的组件名字</li>
<li>is 属性的值，应该是组件在 components 节点下的注册名称</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;app-container&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>App 根组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;comName = &#x27;Left&#x27;&quot;</span>&gt;</span>展示 Left<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;comName = &#x27;Right&#x27;&quot;</span>&gt;</span>展示 Right<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">exclude</span>=<span class="string">&quot;MyRight&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;comName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Left</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/Left.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Right</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/Right.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// comName 表示要展示的组件的名字</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">comName</span>: <span class="string">&#x27;Left&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 如果在“声明组件”的时候，没有为组件指定 name 名称，则组件的名称默认就是“注册时候的名称”</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">Left</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">Right</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="keep-alive"><a href="#keep-alive" class="headerlink" title="keep-alive"></a>keep-alive</h5><blockquote>
<p>keep-alive可以把内部组件进行缓存而不是销毁组件</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;keep-alive&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;conName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>keep-alive对象生命周期<ul>
<li>组件被缓存时自动触发组件deactivated生命周期函数</li>
<li>组件被激活时自动触发组件activated生命周期函数</li>
<li>include和exclude不能同时使用</li>
</ul>
</li>
<li>include属性</li>
</ul>
<blockquote>
<p>指定那些组件缓存</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;keep-alive include=<span class="string">&quot;Left&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;conName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>exclude属性</li>
</ul>
<blockquote>
<p>排除那些组件被缓存</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;keep-alive exclude=<span class="string">&quot;Right&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;conName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure>

<h5 id="组件注册名称和组件声明name的区别"><a href="#组件注册名称和组件声明name的区别" class="headerlink" title="组件注册名称和组件声明name的区别"></a>组件注册名称和组件声明name的区别</h5><ul>
<li>当提供name属性之后组件的名称就是name的名称</li>
<li>对比<ul>
<li>组件的注册名称以标签形式把注册好的组件渲染到页面结构</li>
<li>组件声明name结合<keep-alive>实现缓存以及在调试工具看到的组件名称</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;myRight&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="插槽slot"><a href="#插槽slot" class="headerlink" title="插槽slot"></a>插槽slot</h3><ul>
<li>声明一个插槽区域</li>
<li>vue官方规定每个slot插槽都要有一个name名称</li>
<li>name名称省略了默认为default(具名插槽)</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;left-container&quot;&gt;</span><br><span class="line">    &lt;h3&gt;Left 组件&lt;/h3&gt;</span><br><span class="line">    &lt;hr /&gt;</span><br><span class="line">    &lt;slot name=&quot;default&quot;&gt;</span><br><span class="line">      &lt;h6&gt;这是 default 插槽的后备内容&lt;/h6&gt;</span><br><span class="line">    &lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;less&quot;&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>



<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;app-container&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>App 根组件<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Left</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">template</span> #<span class="attr">default</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是在 Left 组件的内容区域，声明的 p 标签<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">Left</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Left</span> <span class="keyword">from</span> <span class="string">&#x27;@/components/Left.vue&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">Left</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.app-container</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">padding</span>: <span class="number">1px</span> <span class="number">20px</span> <span class="number">20px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">background-color</span>: <span class="number">#efefef</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.box</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="v-slot指令"><a href="#v-slot指令" class="headerlink" title="v-slot指令"></a>v-slot指令</h4><ul>
<li>如果要把内容填充到指定名称的插槽中，需要使用 v-slot: 这个指令</li>
<li>v-solt:后面跟上插槽名字</li>
<li>v-solt:指令不能直接用在元素身上，必须用在template标签上</li>
<li>template标签是一个虚拟标签只起包裹作用，不会渲染</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;left&gt;</span><br><span class="line">  &lt;template v-solt:default&gt;</span><br><span class="line">    &lt;p&gt;hello vue&lt;/p&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">&lt;/left&gt;</span><br></pre></td></tr></table></figure>

<h4 id="v-slot简写"><a href="#v-slot简写" class="headerlink" title="v-slot简写#"></a>v-slot简写#</h4><ul>
<li>v-slot简写是#</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;left&gt;</span><br><span class="line">  &lt;template #default&gt;</span><br><span class="line">    &lt;p&gt;hello vue&lt;/p&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">&lt;/left&gt;</span><br></pre></td></tr></table></figure>

<h4 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h4><blockquote>
<p>在封装组件时，为预留的 <slot> 提供属性对应的值，这种用法，叫做 “作用域插槽”</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">      //子组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;article-container&quot;&gt;</span><br><span class="line">    &lt;h3 v-color=&quot;&#x27;red&#x27;&quot;&gt;Article 组件&lt;/h3&gt;</span><br><span class="line">    &lt;div class=&quot;content-box&quot;&gt;</span><br><span class="line">      &lt;slot name=&quot;content&quot; msg=&quot;hello vue.js&quot;&gt;&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">      //父组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app-container&quot;&gt;</span><br><span class="line">    &lt;h1&gt;App 根组件&lt;/h1&gt;</span><br><span class="line">    &lt;Article&gt;</span><br><span class="line">      &lt;template #content=&quot;scope&quot;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;p&gt;显示到Article 组件的内容&lt;/p&gt;</span><br><span class="line">          &lt;p&gt;&#123;&#123; scope &#125;&#125;&lt;/p&gt;</span><br><span class="line">          // &quot;msg&quot;:&quot;hello vue.js&quot;</span><br><span class="line">          &lt;p&gt;&#123;&#123; scope.msg &#125;&#125;&lt;/p&gt;</span><br><span class="line">          // hello vue.js</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/Article&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h5 id="作用域插槽解构赋值"><a href="#作用域插槽解构赋值" class="headerlink" title="作用域插槽解构赋值"></a>作用域插槽解构赋值</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">      //子组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;article-container&quot;&gt;</span><br><span class="line">    &lt;h3 v-color=&quot;&#x27;red&#x27;&quot;&gt;Article 组件&lt;/h3&gt;</span><br><span class="line">    &lt;div class=&quot;content-box&quot;&gt;</span><br><span class="line">      &lt;slot name=&quot;content&quot; msg=&quot;hello vue.js&quot; :user=&quot;userinfo&quot;&gt;&lt;/slot&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  // 首字母要大写</span><br><span class="line">  name: &#x27;Article&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      // 用户的信息对象</span><br><span class="line">      userinfo: &#123;</span><br><span class="line">        name: &#x27;zs&#x27;,</span><br><span class="line">        age: 20</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">      //父组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;app-container&quot;&gt;</span><br><span class="line">    &lt;h1&gt;App 根组件&lt;/h1&gt;</span><br><span class="line">    &lt;Article&gt;</span><br><span class="line">      &lt;template #content=&quot;&#123; msg, user &#125;&quot;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;p&gt;显示到Article 组件的内容&lt;/p&gt;</span><br><span class="line">          &lt;p&gt;&#123;&#123; msg &#125;&#125;&lt;/p&gt;</span><br><span class="line">          // &quot;msg&quot;:&quot;hello vue.js&quot;</span><br><span class="line">          &lt;p&gt;&#123;&#123; user.name &#125;&#125;&lt;/p&gt;</span><br><span class="line">          // zs</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/Article&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h3><blockquote>
<p>vue官方提供了v-text v-for v-model v-if等常用的指令，此外还允许开发者自定义指令</p>
</blockquote>
<h4 id="私有自定义指令"><a href="#私有自定义指令" class="headerlink" title="私有自定义指令"></a>私有自定义指令</h4><blockquote>
<p>vue组件中，在directives节点下声明私有自定义指令</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  directives: &#123;</span><br><span class="line">//定义color指令指向配置对象</span><br><span class="line">    color: &#123;</span><br><span class="line">//指令第一次绑定到元素上的时候，会立即触发bind函数</span><br><span class="line">//形参中的el表示当前指令所绑定的dom对象</span><br><span class="line">      bind(el) &#123;</span><br><span class="line">        el.style.color = &#x27;red&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">    &lt;h1 v-color&gt;App 根组件&lt;/h1&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>使用binding.value获取指令绑定的值</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      color: &#x27;blue&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">directives: &#123;</span><br><span class="line">    color: &#123;</span><br><span class="line">      bind(el, binding) &#123;</span><br><span class="line">        el.style.color = binding.value</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">    &lt;h1 v-color=&quot;color&quot;&gt;App 根组件&lt;/h1&gt;</span><br><span class="line">    &lt;p v-color=&quot;`red`&quot;&gt;测试&lt;/p&gt;</span><br></pre></td></tr></table></figure>

<h4 id="自定义指令update函数"><a href="#自定义指令update函数" class="headerlink" title="自定义指令update函数"></a>自定义指令update函数</h4><blockquote>
<p>bind函数只调用1次，dom元素更新时bind函数不会被触发，bind函数在每次dom更新被调用</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">directives</span>: &#123;</span><br><span class="line">  <span class="attr">color</span>: &#123;</span><br><span class="line">    <span class="title function_">bind</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">      el.<span class="property">style</span>.<span class="property">color</span> = binding.<span class="property">value</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//dom更新时候触发update函数</span></span><br><span class="line">    <span class="title function_">update</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">      el.<span class="property">style</span>.<span class="property">color</span> = binding.<span class="property">value</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>函数简写</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">color</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">  el.<span class="property">style</span>.<span class="property">color</span> = binding.<span class="property">value</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="全局自定义指令"><a href="#全局自定义指令" class="headerlink" title="全局自定义指令"></a>全局自定义指令</h4><ul>
<li>在main.js定义</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;color&#x27;</span>, &#123;</span><br><span class="line">  <span class="title function_">bind</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">    el.<span class="property">style</span>.<span class="property">color</span> = binding.<span class="property">value</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">update</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">    el.<span class="property">style</span>.<span class="property">color</span> = binding.<span class="property">value</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;color&#x27;</span>, <span class="keyword">function</span> (<span class="params">el, bindding</span>) &#123;</span><br><span class="line">  el.<span class="property">style</span>.<span class="property">color</span> = bindding.<span class="property">value</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h3><blockquote>
<p>路由就是对应关系</p>
</blockquote>
<h4 id="前端路由工作方式"><a href="#前端路由工作方式" class="headerlink" title="前端路由工作方式"></a>前端路由工作方式</h4><ul>
<li>点击路由链接</li>
<li>URL栏hash值发生变化</li>
<li>前端路由监听到hash地址变化</li>
<li>前端路由把hash地址对应的组件渲染到浏览器</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/objzan/blogImg@main/img/image-2022032022530480817.png" alt="image-20220320225304808"></p>
<h4 id="vue-router的基本使用"><a href="#vue-router的基本使用" class="headerlink" title="vue-router的基本使用"></a>vue-router的基本使用</h4><h5 id="安装vue-route包"><a href="#安装vue-route包" class="headerlink" title="安装vue-route包"></a>安装vue-route包</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i vue-router@3.5.2 -S</span><br></pre></td></tr></table></figure>

<h5 id="创建路由模块"><a href="#创建路由模块" class="headerlink" title="创建路由模块"></a>创建路由模块</h5><ul>
<li>在src源代码目录下新建router&#x2F;index.js路由模块</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1.导入Vue和VueRouter的包</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.调用Vue.use()函数，把VueRouter安装位Vue插件</span></span><br><span class="line"><span class="comment">//Vue.use()函数作用就是安装插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.创建路由对象实例</span></span><br><span class="line"><span class="keyword">const</span> router=<span class="keyword">new</span> <span class="title class_">VueRouter</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.向外共享路由实例</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<h5 id="导入并挂载路由模块"><a href="#导入并挂载路由模块" class="headerlink" title="导入并挂载路由模块"></a>导入并挂载路由模块</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">//导入路由模块拿到理由实例对象</span></span><br><span class="line"><span class="comment">//进行模块化导入的时候，如果给定的是文件夹，则默认导入这个文件夹下名字为index.js的文件</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;@/router&#x27;</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">  <span class="comment">//在Vue项目中用路由，必须把路由实例对象挂载</span></span><br><span class="line">  <span class="comment">//router:路由实例对象</span></span><br><span class="line">  <span class="comment">//router:router</span></span><br><span class="line">  router</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="声明路由链接和占位符"><a href="#声明路由链接和占位符" class="headerlink" title="声明路由链接和占位符"></a>声明路由链接和占位符</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure>

<h5 id="声明路由对应关系"><a href="#声明路由对应关系" class="headerlink" title="声明路由对应关系"></a>声明路由对应关系</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const router=new VueRouter(&#123;</span><br><span class="line">  routes:[</span><br><span class="line">    &#123;path:&#x27;/&#x27;,redirect:&#x27;/home&#x27;&#125;,</span><br><span class="line">    &#123;path:&#x27;/home&#x27;,component:Home&#125;,</span><br><span class="line">    &#123;path:&#x27;/movie&#x27;,component:Movie&#125;,</span><br><span class="line">    &#123;path:&#x27;/about&#x27;,component:About&#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="router-link代替a标签"><a href="#router-link代替a标签" class="headerlink" title="router-link代替a标签"></a>router-link代替a标签</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;router-link to=&quot;/home&quot;&gt;首页&lt;/router-link&gt;</span><br><span class="line">&lt;router-link to=&quot;/movie&quot;&gt;电影&lt;/router-link&gt;</span><br><span class="line">&lt;router-link to=&quot;/about&quot;&gt;关于&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>

<h6 id="router-link其他属性"><a href="#router-link其他属性" class="headerlink" title="router-link其他属性"></a>router-link其他属性</h6><ul>
<li>tag:tag可以指定router-link渲染成什么组件</li>
<li>replace:replace不会留下history记录，指定后 后退键不能返还上一页</li>
<li>active-class、linkActiveClass 给当前点击元素设置一个class</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;router-link to=<span class="string">&quot;/home&quot;</span> tag=<span class="string">&quot;button&quot;</span> replace active-<span class="keyword">class</span>=<span class="string">&quot;active&quot;</span>&gt;首页&lt;/router-link&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span> <span class="attr">tag</span>=<span class="string">&quot;button&quot;</span> <span class="attr">replace</span>&gt;</span>关于<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//router&gt;index.js</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  routes,</span><br><span class="line">  <span class="attr">linkActiveClass</span>:<span class="string">&#x27;active&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="recirect重定向"><a href="#recirect重定向" class="headerlink" title="recirect重定向"></a>recirect重定向</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;<span class="attr">path</span>:<span class="string">&#x27;/&#x27;</span>,<span class="attr">redirect</span>:<span class="string">&#x27;/home&#x27;</span>&#125;,</span><br><span class="line">&#123;<span class="attr">path</span>:<span class="string">&#x27;&#x27;</span>,<span class="attr">redirect</span>:<span class="string">&#x27;/home&#x27;</span>&#125;,</span><br></pre></td></tr></table></figure>

<h5 id="将哈希模式改成history模式"><a href="#将哈希模式改成history模式" class="headerlink" title="将哈希模式改成history模式"></a>将哈希模式改成history模式</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//配置路由相关信息</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1通过Vue.use(插件)，安装插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.创建VueRouter路由对象</span></span><br><span class="line"><span class="keyword">const</span> routes=[</span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="comment">// 配置路由和组件之间的关系</span></span><br><span class="line">  routes,</span><br><span class="line">  <span class="comment">//改为history模式</span></span><br><span class="line">  <span class="attr">mode</span>:<span class="string">&#x27;history&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.将router对象传到vue实例</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<h4 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a>嵌套路由</h4><blockquote>
<p>通过路由实现组件的嵌套展示</p>
</blockquote>
<ul>
<li>通过children属性声明子路由规则(子路由规则不需要加&#x2F;)</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;path:&#x27;/about&#x27;,component:About,redirect:&#x27;about/tab1&#x27;,children:[</span><br><span class="line">      //声明子路由规则</span><br><span class="line">      &#123;path:&#x27;tab1&#x27;,component:Tab1&#125;,</span><br><span class="line">      &#123;path:&#x27;tab2&#x27;,component:Tab2&#125;</span><br><span class="line">    ]&#125;</span><br></pre></td></tr></table></figure>

<h5 id="默认子路由"><a href="#默认子路由" class="headerlink" title="默认子路由"></a>默认子路由</h5><blockquote>
<p>如果children数组中，某个路由规则的path值为空字符串，则这条路由规则叫默认子路由</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;path:&#x27;/about&#x27;,</span><br><span class="line">component:About,</span><br><span class="line">children:[</span><br><span class="line">  //声明子路由规则</span><br><span class="line">  &#123;path:&#x27;&#x27;,component:Tab1&#125;,</span><br><span class="line">  &#123;path:&#x27;tab2&#x27;,component:Tab2&#125;</span><br><span class="line">]&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;router-link to=&quot;/about&quot;&gt;tab1&lt;/router-link&gt;</span><br><span class="line">&lt;router-link to=&quot;/about/tab2&quot;&gt;tab2&lt;/router-link&gt;</span><br></pre></td></tr></table></figure>

<h4 id="动态路由匹配"><a href="#动态路由匹配" class="headerlink" title="动态路由匹配"></a>动态路由匹配</h4><blockquote>
<p>把hash地址中可变的部分定义为参数提高路由规则的复用性</p>
</blockquote>
<ul>
<li><p>在vue-router中使用英文的冒号:可以定义路由的参数项</p>
<ul>
<li>路由中的动态参数以:进行声明，冒号后面是动态参数的名称</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;path:&#x27;/movie/:mid&#x27;,component:Movie&#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li>this.$route是路由的参数对象(this可省略)</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;&#123;this.$route.params.mid&#125;&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>this.$router路由的导航对象</li>
</ul>
</li>
</ul>
<h5 id="为路由规则开启props传参"><a href="#为路由规则开启props传参" class="headerlink" title="为路由规则开启props传参"></a>为路由规则开启props传参</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">    &#123;path:&#x27;/movie/:mid&#x27;,component:Movie,props:true&#125;,</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Movie&#x27;,</span><br><span class="line">  props: [&#x27;mid&#x27;],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    &lt;h3&gt;Movie 组件 &#123;&#123;this.$route.params.mid&#125;&#125;--&#123;&#123;mid&#125;&#125;&lt;/h3&gt;</span><br></pre></td></tr></table></figure>

<h4 id="路由懒加载"><a href="#路由懒加载" class="headerlink" title="路由懒加载"></a>路由懒加载</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//配置路由相关信息</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="comment">// import Home from &quot;@/components/Home&quot;;</span></span><br><span class="line"><span class="comment">// import About from &quot;@/components/About&quot;;</span></span><br><span class="line"><span class="comment">// import User from &quot;@/components/User&quot;;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Home</span>=(<span class="params"></span>)=&gt;<span class="title function_">import</span>(<span class="string">&#x27;../components/Home&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">About</span>=(<span class="params"></span>)=&gt;<span class="title function_">import</span>(<span class="string">&#x27;../components/About&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">User</span>=(<span class="params"></span>)=&gt;<span class="title function_">import</span>(<span class="string">&#x27;../components/User&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//1通过Vue.use(插件)，安装插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.创建VueRouter路由对象</span></span><br><span class="line"><span class="keyword">const</span> routes=[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">redirect</span>:<span class="string">&#x27;/home&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>:<span class="title class_">Home</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>:<span class="title class_">About</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/user&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>:<span class="title class_">User</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="comment">// 配置路由和组件之间的关系</span></span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.将router对象传到vue实例</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<h4 id="路由传递参数的方式"><a href="#路由传递参数的方式" class="headerlink" title="路由传递参数的方式"></a>路由传递参数的方式</h4><p>query和fullPath</p>
<h5 id="params类型"><a href="#params类型" class="headerlink" title="params类型"></a>params类型</h5><p>配置路由格式：&#x2F;router&#x2F;:id</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>:<span class="string">&#x27;/user/:userId&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>:<span class="title class_">User</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>传递的方式：在path后面跟上对应的值</p>
<p>传递形参的路径：&#x2F;router&#x2F;123</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1.router-link使用</span></span><br><span class="line">&lt;router-link :to=<span class="string">&quot;/user/+userId&quot;</span>&gt;用户&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.methods使用</span></span><br><span class="line">    <span class="title function_">userClick</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/user/&#x27;</span>+<span class="variable language_">this</span>.<span class="property">userId</span>)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li>hash地址中&#x2F;后面的参数项，叫路径参数参数对象中使用this.$route.parmas来访问路径参数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;h2&gt;&#123;&#123;$route.<span class="property">params</span>.<span class="property">userId</span>&#125;&#125;&lt;/h2&gt;</span><br></pre></td></tr></table></figure>

<h5 id="query的类型"><a href="#query的类型" class="headerlink" title="query的类型"></a>query的类型</h5><p>配置路由格式：&#x2F;router，普通配置</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>:<span class="string">&#x27;/profile&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>:<span class="title class_">Profile</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>传递的方式：对象中使用query的key作为传递方式</p>
<p>传递形参的路径：&#x2F;router？id&#x3D;123,&#x2F;router?id&#x3D;abc</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1.router-link使用</span></span><br><span class="line">&lt;router-link :to=<span class="string">&quot;&#123;path:&#x27;/profile&#x27;,query:&#123;name:&#x27;zhangsan&#x27;,age:18,height:170&#125;&#125;&quot;</span>&gt;档案&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.methods使用</span></span><br><span class="line">    <span class="title function_">profileClick</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;/profile&#x27;</span>,</span><br><span class="line">        <span class="attr">query</span>:&#123;</span><br><span class="line">          <span class="attr">name</span>:<span class="string">&#x27;lisi&#x27;</span>,</span><br><span class="line">          <span class="attr">age</span>:<span class="number">20</span>,</span><br><span class="line">          <span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>hash地址中？后面的参数项叫查询参数，使用this.$route.query访问查询参数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;p&gt;&#123;&#123;<span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>.<span class="property">name</span>&#125;&#125;&lt;/p&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>this.$route中，path只是路径部分，fullPath是完整路径</li>
</ul>
<h4 id="route和-router的区别"><a href="#route和-router的区别" class="headerlink" title="$route和$router的区别"></a>$route和$router的区别</h4><ul>
<li>$router为VueRouter实例，导航到不同URL使用$router.push、$router.replace方法</li>
<li>$route为当前router跳转对象里可以获取name、path、query、params等</li>
</ul>
<h4 id="声明式导航"><a href="#声明式导航" class="headerlink" title="声明式导航"></a>声明式导航</h4><blockquote>
<p>在浏览器点击链接实现导航的方式，叫做声明式导航；普通网页点击<a>链接、<vue-link>都属于声明式导航</p>
</blockquote>
<h4 id="编程式导航"><a href="#编程式导航" class="headerlink" title="编程式导航"></a>编程式导航</h4><blockquote>
<p>在浏览器中，调用api方法实现导航的方式，叫编程式导航；普通网页中调用location.href跳转页面的方式属于编程式导航</p>
</blockquote>
<ul>
<li>vue-router中编程式导航api<ul>
<li>this.$router.push(‘hash地址’)&gt;&gt;跳转到指定hash地址并增加一条记录</li>
<li>this.$router.replace(‘hash地址’)&gt;&gt;跳到指定hash地址并替换的当前历史记录</li>
<li>this.$router.go(数值n)</li>
<li>$router.back()和$router.forward()</li>
</ul>
</li>
</ul>
<h4 id="导航守卫"><a href="#导航守卫" class="headerlink" title="导航守卫"></a>导航守卫</h4><blockquote>
<p>导航守卫控制路由的访问权限</p>
</blockquote>
<h5 id="全局前置守卫"><a href="#全局前置守卫" class="headerlink" title="全局前置守卫"></a>全局前置守卫</h5><ul>
<li>to表示将要访问的路由信息对象</li>
<li>from表示将要离开的路由信息对象</li>
<li>从from跳转到to</li>
<li>next是一个函数，调用next()表示放行，允许这次路由导航</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//为router实例对象，声明全局前置导航守卫</span></span><br><span class="line"><span class="comment">//只要发生路由的跳转必然会触发beforeEach指定的function回调函数</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="keyword">function</span>(<span class="params">to,form,next</span>)&#123;</span><br><span class="line">  <span class="comment">//next()函数表示放行</span></span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//箭头函数写法</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>实现项目页面标题需求<ul>
<li>元数据</li>
<li>document.title&#x3D;to.matched[0].meta.title</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//配置路由相关信息</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="comment">// import Home from &quot;@/components/Home&quot;;</span></span><br><span class="line"><span class="comment">// import About from &quot;@/components/About&quot;;</span></span><br><span class="line"><span class="comment">// import User from &quot;@/components/User&quot;;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Home</span>=(<span class="params"></span>)=&gt;<span class="title function_">import</span>(<span class="string">&#x27;../components/Home&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">HomeNews</span>=(<span class="params"></span>)=&gt;<span class="title function_">import</span>(<span class="string">&#x27;../components/HomeNews&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">HomeMessage</span>=(<span class="params"></span>)=&gt;<span class="title function_">import</span>(<span class="string">&#x27;../components/HomeMessage&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">About</span>=(<span class="params"></span>)=&gt;<span class="title function_">import</span>(<span class="string">&#x27;../components/About&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">User</span>=(<span class="params"></span>)=&gt;<span class="title function_">import</span>(<span class="string">&#x27;../components/User&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">Profile</span>=(<span class="params"></span>)=&gt;<span class="title function_">import</span>(<span class="string">&#x27;../components/Profile&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//1通过Vue.use(插件)，安装插件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.创建VueRouter路由对象</span></span><br><span class="line"><span class="keyword">const</span> routes=[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">redirect</span>:<span class="string">&#x27;/home&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>:<span class="title class_">Home</span>,</span><br><span class="line">    <span class="attr">meta</span>:&#123;</span><br><span class="line">      <span class="attr">title</span>:<span class="string">&#x27;首页&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">children</span>:[</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">redirect</span>:<span class="string">&#x27;news&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;news&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>:<span class="title class_">HomeNews</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>:<span class="title class_">HomeMessage</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;/profile&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>:<span class="title class_">Profile</span>,</span><br><span class="line">        <span class="attr">meta</span>:&#123;</span><br><span class="line">          <span class="attr">title</span>:<span class="string">&#x27;档案&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>:<span class="title class_">About</span>,</span><br><span class="line">    <span class="attr">meta</span>:&#123;</span><br><span class="line">      <span class="attr">title</span>:<span class="string">&#x27;关于&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/user/:userId&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>:<span class="title class_">User</span>,</span><br><span class="line">    <span class="attr">meta</span>:&#123;</span><br><span class="line">      <span class="attr">title</span>:<span class="string">&#x27;用户&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="comment">// 配置路由和组件之间的关系</span></span><br><span class="line">  routes,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">title</span>=to.<span class="property">matched</span>[<span class="number">0</span>].<span class="property">meta</span>.<span class="property">title</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(to);</span><br><span class="line">  <span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.将router对象传到vue实例</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>

<ul>
<li>next函数三种回调方式</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/objzan/blogImg@main/img/image-2022032122181978808.png" alt="image-20220321221819788"></p>
<h2 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h2><blockquote>
<p>Vuex是实现组件全局状态（数据）管理的一种机制，方便实现组件之间的数据共享</p>
</blockquote>
<p>例子：</p>
<ul>
<li><p>用户登录状态、用户名称、头像、地理位置信息等</p>
</li>
<li><p>商品收藏、购物车的物品</p>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/objzan/blogImg@main/img/image-2022051619071310913.png"></p>
<h3 id="Vuex基本使用"><a href="#Vuex基本使用" class="headerlink" title="Vuex基本使用"></a>Vuex基本使用</h3><ul>
<li>安装vuex依赖包</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install vuex --save</span><br></pre></td></tr></table></figure>

<ul>
<li>导入vuex包</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">import Vuex from <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line">Vue.use(Vuex)</span><br></pre></td></tr></table></figure>

<ul>
<li>创建store对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="comment">//state中存放的就是全局共享的数据</span></span><br><span class="line">  <span class="attr">state</span>:&#123;<span class="attr">count</span>:<span class="number">0</span>&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>将store对象挂载到vue实例中</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>:<span class="string">&#x27;App&#x27;</span>,</span><br><span class="line">  <span class="attr">render</span>:<span class="function"><span class="params">h</span>=&gt;</span><span class="title function_">h</span>(app),</span><br><span class="line">  router,</span><br><span class="line">  <span class="comment">//将创建的共享数据对象挂载到Vue实例中</span></span><br><span class="line">  <span class="comment">//所有组件可以直接从store中获取全局数据</span></span><br><span class="line">  store</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="核心概念"><a href="#核心概念" class="headerlink" title="核心概念"></a>核心概念</h3><h4 id="State"><a href="#State" class="headerlink" title="State"></a>State</h4><blockquote>
<p>State提供唯一的公共数据源，所有共享的数据都要统一放在store的state进行存储</p>
</blockquote>
<h5 id="state基本使用"><a href="#state基本使用" class="headerlink" title="state基本使用"></a>state基本使用</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h5 id="组件访问State中数据"><a href="#组件访问State中数据" class="headerlink" title="组件访问State中数据"></a>组件访问State中数据</h5><h6 id="第一种方式"><a href="#第一种方式" class="headerlink" title="第一种方式"></a>第一种方式</h6><p>this.$store.state.全局数据名称，插值表达式{}在template的this可省略</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$store.<span class="property">state</span>.<span class="property">count</span></span><br></pre></td></tr></table></figure>

<h6 id="第二种方式"><a href="#第二种方式" class="headerlink" title="第二种方式"></a>第二种方式</h6><ul>
<li>从vuex中按需导入mapState函数</li>
<li>通过导入的mapState函数将当前需要的全局数据映射未当前组件的computed计算属性</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h3&gt;count的值为&#123;&#123;count&#125;&#125;&lt;/h3&gt;</span><br><span class="line">    &lt;button&gt;-1&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; mapState &#125; from &#x27;vuex&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;MySubtraction&#x27;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    ...mapState([&#x27;count&#x27;])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="Motation"><a href="#Motation" class="headerlink" title="Motation"></a>Motation</h4><blockquote>
<p>Motation用于变更store中的数据</p>
</blockquote>
<h5 id="Motation基本使用"><a href="#Motation基本使用" class="headerlink" title="Motation基本使用"></a>Motation基本使用</h5><ul>
<li><p>vue中只能通过mutation变更store数据，不可以直接操作store中的数据</p>
</li>
<li><p>通过这种方式操作繁琐但可以集中监控所有数据变化</p>
</li>
</ul>
<h6 id="触发mutation第一种方式"><a href="#触发mutation第一种方式" class="headerlink" title="触发mutation第一种方式"></a>触发mutation第一种方式</h6><blockquote>
<p>this.$store.commit()</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//index.js </span></span><br><span class="line"><span class="attr">mutations</span>: &#123;</span><br><span class="line">   add (state) &#123;</span><br><span class="line">   <span class="comment">//变更状态</span></span><br><span class="line">     state.<span class="property">count</span>++</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">  add () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;add&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="触发mutation第二种方式"><a href="#触发mutation第二种方式" class="headerlink" title="触发mutation第二种方式"></a>触发mutation第二种方式</h6><ul>
<li>从vuex按需导入mapMutation函数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;mapMutations&#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br></pre></td></tr></table></figure>



<ul>
<li>通过导入的mapMutation函数将需要的mapMutation函数映射为当前组件的methods方法</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  ...<span class="title function_">mapMutations</span>([<span class="string">&#x27;subN&#x27;</span>]),</span><br><span class="line">  btnSubN () &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">subN</span>(<span class="number">3</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    <span class="title function_">subN</span>(<span class="params">state, step</span>) &#123;</span><br><span class="line">      state.<span class="property">count</span> -= step</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>





<h5 id="Mutation传递参数"><a href="#Mutation传递参数" class="headerlink" title="Mutation传递参数"></a>Mutation传递参数</h5><ul>
<li>commit的作用是调用某个mutation</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">addN () &#123;</span><br><span class="line">  this.$store.commit(&#x27;addN&#x27;, 3)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    addN (state, step) &#123;</span><br><span class="line">  state.count += step</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;button @click=<span class="string">&quot;addCount(5)&quot;</span>&gt;+<span class="number">5</span>&lt;/button&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addCount(10)&quot;</span>&gt;</span>+10<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addStudent&quot;</span>&gt;</span>添加学生<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">  <span class="attr">methods</span>:&#123;</span><br><span class="line">    <span class="title function_">addition</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;increment&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">subtraction</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;decrement&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">addCount</span>(<span class="params">count</span>)&#123;</span><br><span class="line">      <span class="comment">//payload:负载</span></span><br><span class="line">      <span class="comment">// 1.普通封装提交</span></span><br><span class="line">      <span class="comment">// this.$store.commit(&#x27;incrementCount&#x27;,count)</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// 2.特殊封装提交</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(&#123;</span><br><span class="line">        <span class="attr">type</span>:<span class="string">&#x27;incrementCount&#x27;</span>,</span><br><span class="line">        <span class="comment">// count:count</span></span><br><span class="line">        count</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">addStudent</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">const</span> stu=&#123;<span class="attr">id</span>:<span class="number">114</span>,<span class="attr">name</span>:<span class="string">&#x27;alan&#x27;</span>,<span class="attr">age</span>:<span class="number">30</span>&#125;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;addStudent&#x27;</span>,stu)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    <span class="title function_">increment</span>(<span class="params">state</span>)&#123;</span><br><span class="line">      state.<span class="property">counter</span>++</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">incrementCount</span>(<span class="params">state,payload</span>)&#123;</span><br><span class="line">      <span class="comment">// state.counter+=count</span></span><br><span class="line">      <span class="comment">//console.log(count); //&#123;type: &#x27;incrementCount&#x27;, count: 5&#125;</span></span><br><span class="line">      state.<span class="property">counter</span>+=payload.<span class="property">count</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">decrement</span>(<span class="params">state</span>)&#123;</span><br><span class="line">      state.<span class="property">counter</span>--</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">addStudent</span>(<span class="params">state,stu</span>)&#123;</span><br><span class="line">      state.<span class="property">students</span>.<span class="title function_">push</span>(stu)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h5 id="数据响应式原理"><a href="#数据响应式原理" class="headerlink" title="数据响应式原理"></a>数据响应式原理</h5>  <figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">mutations</span>: &#123;</span><br><span class="line">  <span class="title function_">updateInfo</span>(<span class="params">state</span>)&#123;</span><br><span class="line">    state.<span class="property">info</span>.<span class="property">name</span>=<span class="string">&#x27;zhangsan&#x27;</span></span><br><span class="line">    <span class="comment">// state.info[&#x27;address&#x27;]=&#x27;广东&#x27;</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">set</span>(state.<span class="property">info</span>,<span class="string">&#x27;address&#x27;</span>,<span class="string">&#x27;广东省&#x27;</span>)</span><br><span class="line">    <span class="comment">// delete state.info.age</span></span><br><span class="line">    <span class="title class_">Vue</span>.<span class="title function_">delete</span>(state.<span class="property">info</span>,<span class="string">&#x27;age&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="Action"><a href="#Action" class="headerlink" title="Action"></a>Action</h4><blockquote>
<p>Action用于处理异步任务，如果通过异步操作变更数据必须通过Action不能使用Mutation，通过Action触发Mutation方式变更数据</p>
</blockquote>
<h5 id="第一种使用方式"><a href="#第一种使用方式" class="headerlink" title="第一种使用方式"></a>第一种使用方式</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    addAsync (context) &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// actions中不能直接修改state中的数据</span></span><br><span class="line">        <span class="comment">// 必须通过context.commit()触发某个Mutation才行</span></span><br><span class="line">        context.<span class="title function_">commit</span>(<span class="string">&#x27;add&#x27;</span>)</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// vue组件</span></span><br><span class="line">        btnHandler3 () &#123;</span><br><span class="line">      <span class="comment">// dispatch函数专门触发Action</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;addAsync&#x27;</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h5 id="第二种使用方式"><a href="#第二种使用方式" class="headerlink" title="第二种使用方式"></a>第二种使用方式</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">    subAsync (context) &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        context.<span class="title function_">commit</span>(<span class="string">&#x27;sub&#x27;</span>)</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; mapActions &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line">    ...<span class="title function_">mapActions</span>([<span class="string">&#x27;subAsync&#x27;</span>]),</span><br><span class="line">      </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;subAsync&quot;</span>&gt;</span>-1 Async<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h5 id="触发Action异步任务时候携带参数"><a href="#触发Action异步任务时候携带参数" class="headerlink" title="触发Action异步任务时候携带参数"></a>触发Action异步任务时候携带参数</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">addNsync (context, step) &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    context.<span class="title function_">commit</span>(<span class="string">&#x27;addN&#x27;</span>, step)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    addNSync () &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;addNsync&#x27;</span>, <span class="number">6</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="返回promise"><a href="#返回promise" class="headerlink" title="返回promise"></a>返回promise</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">  <span class="title function_">aUpdateInfo</span>(<span class="params">context,payload</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        context.<span class="title function_">commit</span>(<span class="string">&#x27;updateInfo&#x27;</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(payload)</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&#x27;111111&#x27;</span>)</span><br><span class="line">      &#125;,<span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//vue组件</span></span><br><span class="line">      <span class="title function_">updateInfo</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span></span><br><span class="line">          .<span class="title function_">dispatch</span>(<span class="string">&#x27;aUpdateInfo&#x27;</span>,<span class="string">&#x27;我是payload&#x27;</span>)</span><br><span class="line">          .<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;里面完成了提交&#x27;</span>)</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">          &#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="Getter"><a href="#Getter" class="headerlink" title="Getter"></a>Getter</h4><blockquote>
<p>Getter用于对store中的数据进行加工处理形成新的数据,类似单个组件中的计算属性</p>
</blockquote>
<h5 id="使用getters第一种方式"><a href="#使用getters第一种方式" class="headerlink" title="使用getters第一种方式"></a>使用getters第一种方式</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">getters: &#123;</span><br><span class="line">  showNum (state) &#123;</span><br><span class="line">    return &#x27;当前最新的数量[&#x27; + state.count + &#x27;]&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li>this.$store.getters.名称</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;&#123;$store.<span class="property">getters</span>.<span class="property">showNum</span>&#125;&#125;</span><br></pre></td></tr></table></figure>

<h5 id="使用getters第二种方式"><a href="#使用getters第二种方式" class="headerlink" title="使用getters第二种方式"></a>使用getters第二种方式</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">    ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;showNum&#x27;</span>])</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#123;&#123;showNum&#125;&#125;</span><br></pre></td></tr></table></figure>

<h5 id="getters携带参数"><a href="#getters携带参数" class="headerlink" title="getters携带参数"></a>getters携带参数</h5><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">    &lt;h2&gt;----------<span class="title class_">App</span>内容：getter------------&lt;/h2&gt;</span><br><span class="line">&lt;!--    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;$store.state.counter*$store.state.counter&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span>--&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;$store.getters.PowerCounter&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">&lt;!--    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;more20stu&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span>--&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;$store.getters.more20stu&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;$store.getters.more20stuLength&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;$store.getters.moreAgeStu(10)&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">getters</span>: &#123;</span><br><span class="line">  <span class="title class_">PowerCounter</span>(state)&#123;</span><br><span class="line">    <span class="keyword">return</span> state.<span class="property">counter</span>*state.<span class="property">counter</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">more20stu</span>(<span class="params">state</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> state.<span class="property">students</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">s</span>=&gt;</span>s.<span class="property">age</span>&gt;=<span class="number">20</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">more20stuLength</span>(<span class="params">state,getters</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> getters.<span class="property">more20stu</span>.<span class="property">length</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">moreAgeStu</span>(<span class="params">state</span>)&#123;</span><br><span class="line">    <span class="comment">// return function (age)&#123;</span></span><br><span class="line">    <span class="comment">//   return state.students.filter(s=&gt;s.age&gt;age)</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">age</span>=&gt;</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">students</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">s</span>=&gt;</span>s.<span class="property">age</span>&gt;age)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h4 id="modules"><a href="#modules" class="headerlink" title="modules"></a>modules</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>App内容：modules中的内容<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;$store.state.a.name&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;updateName&quot;</span>&gt;</span>修改名字<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;$store.getters.fullname&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;$store.getters.fullname2&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;$store.getters.fullname3&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;asyncBtn&quot;</span>&gt;</span>修改<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  <span class="attr">methods</span>:&#123;</span><br><span class="line">    <span class="title function_">updateName</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;updateName&#x27;</span>,<span class="string">&#x27;lisi&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="title function_">asyncBtn</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;aUpdateName&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">    </span><br><span class="line"><span class="comment">//store/index.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> moduleA=&#123;</span><br><span class="line">  <span class="attr">state</span>:&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;wangwu&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>:&#123;</span><br><span class="line">    <span class="title function_">fullname</span>(<span class="params">state</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">name</span>+<span class="string">&#x27;11111&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">fullname2</span>(<span class="params">state,getters</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> getters.<span class="property">fullname</span>+<span class="string">&#x27;222222&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">fullname3</span>(<span class="params">state,getters,rootState</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> getters.<span class="property">fullname2</span>+rootState.<span class="property">counter</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>:&#123;</span><br><span class="line">    <span class="title function_">updateName</span>(<span class="params">state,payload</span>)&#123;</span><br><span class="line">      state.<span class="property">name</span>=payload</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>:&#123;</span><br><span class="line">   <span class="title function_">aUpdateName</span>(<span class="params">context</span>)&#123;</span><br><span class="line">     <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">       context.<span class="title function_">commit</span>(<span class="string">&#x27;updateName&#x27;</span>,<span class="string">&#x27;zhaoliu&#x27;</span>)</span><br><span class="line">     &#125;,<span class="number">1000</span>)</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">modules</span>:&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">counter</span>:<span class="number">300</span>,</span><br><span class="line">    <span class="attr">students</span>:[</span><br><span class="line">      &#123;<span class="attr">id</span>:<span class="number">110</span>,<span class="attr">name</span>:<span class="string">&#x27;zhangsan&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">id</span>:<span class="number">112</span>,<span class="attr">name</span>:<span class="string">&#x27;lisi&#x27;</span>,<span class="attr">age</span>:<span class="number">34</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">id</span>:<span class="number">113</span>,<span class="attr">name</span>:<span class="string">&#x27;wangwu&#x27;</span>,<span class="attr">age</span>:<span class="number">22</span>&#125;,</span><br><span class="line">      &#123;<span class="attr">id</span>:<span class="number">114</span>,<span class="attr">name</span>:<span class="string">&#x27;zhaoliu&#x27;</span>,<span class="attr">age</span>:<span class="number">9</span>&#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">info</span>:&#123;</span><br><span class="line">      <span class="attr">name</span>:<span class="string">&#x27;coder&#x27;</span>,</span><br><span class="line">      <span class="attr">age</span>:<span class="string">&#x27;20&#x27;</span>,</span><br><span class="line">      <span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">    <span class="attr">a</span>:moduleA</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="plugins"><a href="#plugins" class="headerlink" title="plugins"></a>plugins</h4><p>登录-持久化存储vuex</p>
<p>vuex的插件包叫做<code>vuex-persistedstate@3.2.1</code>版本(配合vue2使用, 默认最新版是配合vue3使用)</p>
<ol>
<li><p>下载此包到当前工程中</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yarn add vuex-persistedstate@3.2.1</span><br></pre></td></tr></table></figure>
</li>
<li><p>在<code>src/store/index.js</code>中, 导入并配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> createPersistedState <span class="keyword">from</span> <span class="string">&#x27;vuex-persistedstate&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="comment">// 1. 用来存储登录成功之后，得到的 token</span></span><br><span class="line">    <span class="attr">token</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    <span class="comment">// 2. 更新 token 的 mutation 函数</span></span><br><span class="line">    updateToken (state, newToken) &#123;</span><br><span class="line">      state.<span class="property">token</span> = newToken</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 配置为 vuex 的插件</span></span><br><span class="line">  <span class="attr">plugins</span>: [<span class="title function_">createPersistedState</span>()]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h3><blockquote>
<p>专注于数据请求的库</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;./axios.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">const</span> result=<span class="title function_">axios</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">method</span>:<span class="string">&#x27;GET&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">url</span>:<span class="string">&#x27;xxx&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">//调用axios方法返回值是promise对象</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">result.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">books</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="variable language_">console</span>.<span class="title function_">log</span>(books.<span class="property">data</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li>get传参用params:{}</li>
<li>post传参用data:{}</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;./axios.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"> <span class="title function_">axios</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">method</span>:<span class="string">&#x27;GET&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">url</span>:<span class="string">&#x27;xxx&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">params</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">id</span>:<span class="number">1</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,<span class="comment">//get</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">data</span>:&#123;&#125;<span class="comment">//post</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">result</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<ul>
<li>调用方法返回值是promise实例前面添加await</li>
<li>await只能用在async修饰的方法中</li>
<li>使用结构赋值，从axios封装的大对象中把data属性解构出来</li>
<li>data属性使用冒号重命名一般命名为{data:res}</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">btn.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>,<span class="keyword">async</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">const</span> &#123;<span class="attr">data</span>:res&#125;=<span class="keyword">await</span> <span class="title function_">axios</span>(&#123;</span><br><span class="line">    <span class="attr">method</span>:<span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>:<span class="string">&#x27;xxx&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>:&#123;</span><br><span class="line">      <span class="attr">name</span>:<span class="string">&#x27;zs&#x27;</span>,</span><br><span class="line">      <span class="attr">age</span>:<span class="number">20</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="axios多个请求"><a href="#axios多个请求" class="headerlink" title="axios多个请求"></a>axios多个请求</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">axios.<span class="title function_">all</span>([<span class="title function_">axios</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>:<span class="string">&#x27;http://123.207.32.32:8000/home/multidata&#x27;</span>,</span><br><span class="line">  <span class="attr">methods</span>:<span class="string">&#x27;get&#x27;</span></span><br><span class="line">&#125;),<span class="title function_">axios</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>:<span class="string">&#x27;http://152.136.185.210:7878/api/hy66/home/data&#x27;</span>,</span><br><span class="line">  <span class="attr">params</span>: &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;sell&#x27;</span>,</span><br><span class="line">    <span class="attr">page</span>: <span class="number">4</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)]).<span class="title function_">then</span>(<span class="function"><span class="params">results</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="comment">//返回数组</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(results);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将数组展开为res1，res2写法</span></span><br><span class="line">axios.<span class="title function_">all</span>([<span class="title function_">axios</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>:<span class="string">&#x27;http://123.207.32.32:8000/home/multidata&#x27;</span>,</span><br><span class="line">  <span class="attr">methods</span>:<span class="string">&#x27;get&#x27;</span></span><br><span class="line">&#125;),<span class="title function_">axios</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>:<span class="string">&#x27;http://152.136.185.210:7878/api/hy66/home/data&#x27;</span>,</span><br><span class="line">  <span class="attr">params</span>: &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;sell&#x27;</span>,</span><br><span class="line">    <span class="attr">page</span>: <span class="number">4</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)]).<span class="title function_">then</span>(axios.<span class="title function_">spread</span>(<span class="function">(<span class="params">res1,res2</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res1);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res2);</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>

<h4 id="全局配置"><a href="#全局配置" class="headerlink" title="全局配置"></a>全局配置</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">axios.<span class="property">defaults</span>.<span class="property">baseURL</span>=<span class="string">&#x27;http://152.136.185.210:7878/api/hy66&#x27;</span></span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">timeout</span>=<span class="number">5000</span></span><br><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>:<span class="string">&#x27;/home/data&#x27;</span>,</span><br><span class="line">  <span class="attr">params</span>:&#123;</span><br><span class="line">    <span class="attr">type</span>:<span class="string">&#x27;sell&#x27;</span>,</span><br><span class="line">    <span class="attr">page</span>:<span class="number">4</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="axios实例"><a href="#axios实例" class="headerlink" title="axios实例"></a>axios实例</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// network/request.js</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">request</span>(<span class="params">config</span>)&#123;</span><br><span class="line">  <span class="comment">// 1.创建vue实例</span></span><br><span class="line">  <span class="keyword">const</span> instance=axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">    <span class="attr">baseURL</span>:<span class="string">&#x27;http://123.207.32.32:8000&#x27;</span>,</span><br><span class="line">    <span class="attr">timeout</span>:<span class="number">5000</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">instance</span>(config)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//main.js</span></span><br><span class="line"><span class="title function_">request</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>:<span class="string">&#x27;/home/multidata&#x27;</span></span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="axios挂在到vue原型"><a href="#axios挂在到vue原型" class="headerlink" title="axios挂在到vue原型"></a>axios挂在到vue原型</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">baseURL</span> = <span class="string">&#x27;http://www.liulongbin.top:3006&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$http</span> = axios</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="keyword">async</span> getinfo () &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; <span class="attr">data</span>: res &#125; = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">$http</span>.<span class="title function_">get</span>(<span class="string">&#x27;/api/get&#x27;</span>)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="axios拦截器"><a href="#axios拦截器" class="headerlink" title="axios拦截器"></a>axios拦截器</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">request</span>(<span class="params">config</span>)&#123;</span><br><span class="line">  <span class="comment">// 1.创建vue实例</span></span><br><span class="line">  <span class="keyword">const</span> instance=axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">    <span class="attr">baseURL</span>:<span class="string">&#x27;http://123.207.32.32:8000&#x27;</span>,</span><br><span class="line">    <span class="attr">timeout</span>:<span class="number">5000</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 请求拦截</span></span><br><span class="line">  instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function"><span class="params">config</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(config);</span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">  &#125;,<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 响应拦截</span></span><br><span class="line">  instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">    <span class="keyword">return</span> res.<span class="property">data</span></span><br><span class="line">  &#125;,<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">instance</span>(config)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="经验总结"><a href="#经验总结" class="headerlink" title="经验总结"></a>经验总结</h3><p>在组件标签绑定所有事件（包括原生事件的名字click、input等等）都是自定义事件，需要组件内$emit来触发，如果组件不支持原生事件名字，.native给组件内根标签绑定这个原生事件。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;el-menu-item index=&quot;2&quot; @click.native=&quot;quitFn&quot;&gt;</span><br><span class="line">  &lt;i class=&quot;el-icon-switch-button&quot;&gt;&lt;/i&gt;</span><br><span class="line">  退出</span><br><span class="line">&lt;/el-menu-item&gt;</span><br></pre></td></tr></table></figure>



<h4 id="选择的图片文件，要给到img标签上做纯前端的预览"><a href="#选择的图片文件，要给到img标签上做纯前端的预览" class="headerlink" title="选择的图片文件，要给到img标签上做纯前端的预览"></a>选择的图片文件，要给到img标签上做纯前端的预览</h4><p>知识点:img标签的src值只能是图片的＂链接地址＂（外链http:&#x2F;&#x2F;开头，图片文件相对路径）或者是图片的base64字符串（而且字符串还必须是data:image&#x2F;png；base64，图片转base64字符 串）</p>
<h5 id="解决方案1"><a href="#解决方案1" class="headerlink" title="解决方案1:"></a>解决方案1:</h5><p>文件转内存临时地址（这个地址只能在js里内存里不能发给后台）<br>语法:URL.createObjectURL（文件）<br>返回值:内存临时地址<br>this.avatar &#x3D; URL.createobjectURL（files［θ］）</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">avatar</span> = <span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(files[<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<h5 id="解决方案2"><a href="#解决方案2" class="headerlink" title="解决方案2:"></a>解决方案2:</h5><p>文件转base64字符串（此字符串是可以发给后台的）</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">        <span class="keyword">const</span> fr = <span class="keyword">new</span> <span class="title class_">FileReader</span>()</span><br><span class="line">        fr.<span class="title function_">readAsDataURL</span>(files[<span class="number">0</span>])</span><br><span class="line"><span class="comment">//onload等待把文件读成base64字符串后会触发onload事件函数</span></span><br><span class="line">        fr.<span class="property">onload</span> = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">//e.target.result的值就是读完的结果</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">avatar</span> = e.<span class="property">target</span>.<span class="property">result</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">objzan</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://objzan.github.io/2022/09/17/Vue学习/">https://objzan.github.io/2022/09/17/Vue学习/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://objzan.github.io">objzan博客</a>！</span></div></div><div class="post-meta__tag-list"></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2022/11/14/Vue3%E5%AD%A6%E4%B9%A0/"><i class="fa fa-chevron-left">  </i><span>Vue3学习</span></a></div><div class="next-post pull-right"><a href="/2022/09/17/JavaScript%E5%AD%A6%E4%B9%A0/"><span>JavaScript学习</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://cdn.jsdelivr.net/gh/objzan/blogImg@main/img/71243716.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2022 By objzan</div><div class="framework-info"><span>驱动 - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/lib/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.1"></script><script src="/js/fancybox.js?version=1.9.1"></script><script src="/js/sidebar.js?version=1.9.1"></script><script src="/js/copy.js?version=1.9.1"></script><script src="/js/fireworks.js?version=1.9.1"></script><script src="/js/transition.js?version=1.9.1"></script><script src="/js/scroll.js?version=1.9.1"></script><script src="/js/head.js?version=1.9.1"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>